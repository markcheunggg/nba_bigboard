(window.webpackJsonp=window.webpackJsonp||[]).push([["datadog"],Array(143).concat([function(t,e,n){"use strict";var r,i=n(1025),o=n(353),s=n(208),a=n(381),u=n(331),c=n(770),f=n(418),p=n(617),l=n(382).f,d=n(774),h=n(677),v=n(275),g=n(765),m=s.Int8Array,_=m&&m.prototype,y=s.Uint8ClampedArray,E=y&&y.prototype,T=m&&d(m),b=_&&d(_),x=Object.prototype,w=x.isPrototypeOf,S=v("toStringTag"),O=g("TYPED_ARRAY_TAG"),A=i&&!!h&&"Opera"!==c(s.opera),R=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C=function(t){return a(t)&&u(I,c(t))};for(r in I)s[r]||(A=!1);if((!A||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},A))for(r in I)s[r]&&h(s[r],T);if((!A||!b||b===x)&&(b=T.prototype,A))for(r in I)s[r]&&h(s[r].prototype,b);if(A&&d(E)!==b&&h(E,b),o&&!u(b,S))for(r in R=!0,l(b,S,{get:function(){return a(this)?this[O]:void 0}}),I)s[r]&&f(s[r],O,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:R&&O,aTypedArray:function(t){if(C(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(w.call(T,t))return t}else for(var e in I)if(u(I,r)){var n=s[e];if(n&&(t===n||w.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var r in I){var i=s[r];i&&u(i.prototype,t)&&delete i.prototype[t]}b[t]&&!n||p(b,t,n?e:A&&_[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(o){if(h){if(n)for(r in I)(i=s[r])&&u(i,t)&&delete i[t];if(T[t]&&!n)return;try{return p(T,t,n?e:A&&m[t]||e)}catch(t){}}for(r in I)!(i=s[r])||i[t]&&!n||p(i,t,e)}},isView:function(t){var e=c(t);return"DataView"===e||u(I,e)},isTypedArray:C,TypedArray:T,TypedArrayPrototype:b}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(63))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(208),i=n(1005),o=n(331),s=n(765),a=n(1014),u=n(1225),c=i("wks"),f=r.Symbol,p=u?f:f&&f.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(f,t)?c[t]=f[t]:c[t]=p("Symbol."+t)),c[t]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(566),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1296);e.BinaryCarrier=i.default;var o=n(1297);e.Tags=o;var s=n(835),a=n(1034);e.Reference=a.default;var u=n(678);e.Span=u.default;var c=n(1031);e.SpanContext=c.default;var f=n(836);e.Tracer=f.Tracer;var p=n(1298);e.MockTracer=p.MockTracer,r(n(1301)),r(n(1033)),r(n(1032)),s.initialize()},function(t,e,n){"use strict";var r=n(1038),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(248);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(353),i=n(1001),o=n(500),s=n(822),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(353),i=n(382),o=n(763);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";t.exports={use(t){Object.assign(this,t)},configure(t){this._config=t}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(762),i=n(208),o=n(353),s=n(834),a=n(143),u=n(1242),c=n(771),f=n(763),p=n(418),l=n(332),d=n(1026),h=n(1028),v=n(822),g=n(331),m=n(770),_=n(381),y=n(773),E=n(677),T=n(827).f,b=n(1029),x=n(502).forEach,w=n(1021),S=n(382),O=n(819),A=n(618),R=n(1017),I=A.get,C=A.set,L=S.f,k=O.f,N=Math.round,D=i.RangeError,M=u.ArrayBuffer,P=u.DataView,j=a.NATIVE_ARRAY_BUFFER_VIEWS,U=a.TYPED_ARRAY_TAG,B=a.TypedArray,F=a.TypedArrayPrototype,H=a.aTypedArrayConstructor,G=a.isTypedArray,q=function(t,e){for(var n=0,r=e.length,i=new(H(t))(r);r>n;)i[n]=e[n++];return i},z=function(t,e){L(t,e,{get:function(){return I(this)[e]}})},W=function(t){var e;return t instanceof M||"ArrayBuffer"==(e=m(t))||"SharedArrayBuffer"==e},V=function(t,e){return G(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Y=function(t,e){return V(t,e=v(e,!0))?f(2,t[e]):k(t,e)},$=function(t,e,n){return!(V(t,e=v(e,!0))&&_(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};o?(j||(O.f=Y,S.f=$,z(F,"buffer"),z(F,"byteOffset"),z(F,"byteLength"),z(F,"length")),r({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:Y,defineProperty:$}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,a=t+(n?"Clamped":"")+"Array",u="get"+t,f="set"+t,v=i[a],g=v,m=g&&g.prototype,S={},O=function(t,e){L(t,e,{get:function(){return function(t,e){var n=I(t);return n.view[u](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=I(t);n&&(r=(r=N(r))<0?0:r>255?255:255&r),i.view[f](e*o+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};j?s&&(g=e((function(t,e,n,r){return c(t,g,a),R(_(e)?W(e)?void 0!==r?new v(e,h(n,o),r):void 0!==n?new v(e,h(n,o)):new v(e):G(e)?q(g,e):b.call(g,e):new v(d(e)),t,g)})),E&&E(g,B),x(T(v),(function(t){t in g||p(g,t,v[t])})),g.prototype=m):(g=e((function(t,e,n,r){c(t,g,a);var i,s,u,f=0,p=0;if(_(e)){if(!W(e))return G(e)?q(g,e):b.call(g,e);i=e,p=h(n,o);var v=e.byteLength;if(void 0===r){if(v%o)throw D("Wrong length");if((s=v-p)<0)throw D("Wrong length")}else if((s=l(r)*o)+p>v)throw D("Wrong length");u=s/o}else u=d(e),i=new M(s=u*o);for(C(t,{buffer:i,byteOffset:p,byteLength:s,length:u,view:new P(i)});f<u;)O(t,f++)})),E&&E(g,B),m=g.prototype=y(F)),m.constructor!==g&&p(m,"constructor",g),U&&p(m,U,a),S[a]=g,r({global:!0,forced:g!=v,sham:!j},S),"BYTES_PER_ELEMENT"in g||p(g,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in m||p(m,"BYTES_PER_ELEMENT",o),w(a)}):t.exports=function(){}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(381);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(821);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(769),i=n(764),o=n(501),s=n(332),a=n(1245),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,f=4==t,p=6==t,l=5==t||p;return function(d,h,v,g){for(var m,_,y=o(d),E=i(y),T=r(h,v,3),b=s(E.length),x=0,w=g||a,S=e?w(d,b):n?w(d,0):void 0;b>x;x++)if((l||x in E)&&(_=T(m=E[x],x,y),t))if(e)S[x]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:u.call(S,m)}else if(f)return!1;return p?-1:c||f?f:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";const r={debug:t=>console.debug(t),info:t=>console.info(t),warn:t=>console.warn(t),error:t=>console.error(t)},i={debug:20,info:30,warn:40,error:50},o=t=>t&&"string"==typeof t&&i[t.toLowerCase().trim()]||i.debug,s=t=>{const e={};return function(n){return e[n]||(e[n]=t.apply(this,arguments)),e[n]}};function a(t){return"function"==typeof t?t():t}const u={_isLogLevelEnabled(t){return i[t]>=this._logLevel},use(t){return t&&t.debug instanceof Function&&t.error instanceof Function&&(this._logger=t),this},toggle(t,e){return this._enabled=t,this._logLevel=o(e),this},reset(){return this._logger=r,this._enabled=!1,this._deprecate=s((t,e)=>(this._logger.error(e),this)),this._logLevel=o(),this},debug(t){return this._enabled&&this._isLogLevelEnabled("debug")&&this._logger.debug(a(t)),this},info(t){return this._logger.info?(this._enabled&&this._isLogLevelEnabled("info")&&this._logger.info(a(t)),this):this.debug(t)},warn(t){return this._logger.warn?(this._enabled&&this._isLogLevelEnabled("warn")&&this._logger.warn(a(t)),this):this.debug(t)},error(t){return this._enabled&&this._isLogLevelEnabled("error")&&(t instanceof Function&&(t=t()),"object"==typeof t&&t?t.stack||(t=String(t.message||t)):t=String(t),"string"==typeof t&&(t=new Error(t)),this._logger.error(t)),this},deprecate(t,e){return this._deprecate(t,e)}};u.reset(),t.exports=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(208),i=n(418),o=n(331),s=n(823),a=n(1003),u=n(618),c=u.get,f=u.enforce,p=String(String).split("String");(t.exports=function(t,e,n,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),f(n).source=p.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:i(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},function(t,e,n){var r,i,o,s=n(1217),a=n(208),u=n(381),c=n(418),f=n(331),p=n(824),l=n(766),d=a.WeakMap;if(s){var h=new d,v=h.get,g=h.has,m=h.set;r=function(t,e){return m.call(h,t,e),e},i=function(t){return v.call(h,t)||{}},o=function(t){return g.call(h,t)}}else{var _=p("state");l[_]=!0,r=function(t,e){return c(t,_,e),e},i=function(t){return f(t,_)?t[_]:{}},o=function(t){return f(t,_)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";t.exports={SAMPLE_RATE_METRIC_KEY:"_sample_rate",SAMPLING_PRIORITY_KEY:"_sampling_priority_v1",ANALYTICS_KEY:"_dd1.sr.eausr",ORIGIN_KEY:"_dd.origin",HOSTNAME_KEY:"_dd.hostname",REFERENCE_NOOP:"noop",SAMPLING_RULE_DECISION:"_dd.rule_psr",SAMPLING_LIMIT_DECISION:"_dd.limit_psr",SAMPLING_AGENT_DECISION:"_dd.agent_psr"}},function(t,e,n){"use strict";const r=n(419),i=4294967296,o=new Uint8Array(8),s=new Uint32Array(2);r.crypto&&r.crypto.getRandomValues(s);const a=Array.prototype.map,u=t=>`${t<16?"0":""}${t.toString(16)}`;class c{constructor(t,e){this._buffer="number"==typeof e?function(t,e){const n=new Uint8Array(8),r=t.length;let o=0,s=0,a=0;"-"===t[0]&&o++;const u=o;for(;o<r;){const n=parseInt(t[o++],e);if(!(n>=0))break;a=a*e+n,s=s*e+Math.floor(a/i),a%=i}u&&(s=~s,a?a=i-a:s++);return l(n,s,0),l(n,a,4),n}(t,e):function(t){if("0"===t)return o;if(!t)return function(){const t=new Uint8Array(8),e=2147483647&f(s[0]),n=f(s[1]);return l(t,e,0),l(t,n,4),t}();const e=Math.ceil(t.length/2),n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=parseInt(t.substring(2*r,2*r+2),16);return n}(t)}toString(t){return"number"==typeof t?function(t,e){let n=p(t,0),r=p(t,4),o="";e=e||10;for(;;){const t=n%e*i+r;if(n=Math.floor(n/e),r=Math.floor(t/e),o=(t%e).toString(e)+o,!n&&!r)break}return o}(this._buffer,t):(e=this._buffer,a.call(e,u).join(""));var e}toBuffer(){return this._buffer}toJSON(){return this.toString()}}function f(t){return t^Math.floor(4294967296*Math.random())}function p(t,e){return 16777216*t[e+0]+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3]}function l(t,e,n){t[3+n]=255&e,e>>=8,t[2+n]=255&e,e>>=8,t[1+n]=255&e,e>>=8,t[0+n]=255&e}t.exports=(t,e)=>new c(t,e)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(764),i=n(821);t.exports=function(t){return r(i(t))}},function(t,e){t.exports={}},function(t,e,n){var r=n(500),i=n(1227);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(835),i=function(){function t(){}return t.prototype.context=function(){return this._context()},t.prototype.tracer=function(){return this._tracer()},t.prototype.setOperationName=function(t){return this._setOperationName(t),this},t.prototype.setBaggageItem=function(t,e){return this._setBaggageItem(t,e),this},t.prototype.getBaggageItem=function(t){return this._getBaggageItem(t)},t.prototype.setTag=function(t,e){var n;return this._addTags(((n={})[t]=e,n)),this},t.prototype.addTags=function(t){return this._addTags(t),this},t.prototype.log=function(t,e){return this._log(t,e),this},t.prototype.logEvent=function(t,e){return this._log({event:t,payload:e})},t.prototype.finish=function(t){this._finish(t)},t.prototype._context=function(){return r.spanContext},t.prototype._tracer=function(){return r.tracer},t.prototype._setOperationName=function(t){},t.prototype._setBaggageItem=function(t,e){},t.prototype._getBaggageItem=function(t){},t.prototype._addTags=function(t){},t.prototype._log=function(t,e){},t.prototype._finish=function(t){},t}();e.Span=i,e.default=i},function(t,e,n){"use strict";const r=n(333).SpanContext;t.exports=class extends r{constructor(t){super(),t=t||{},this._traceId=t.traceId,this._spanId=t.spanId,this._parentId=t.parentId||null,this._name=t.name,this._isFinished=t.isFinished||!1,this._tags=t.tags||{},this._sampling=t.sampling||{},this._baggageItems=t.baggageItems||{},this._traceFlags=t.traceFlags||{},this._traceFlags.sampled=!1!==this._traceFlags.sampled,this._traceFlags.debug=!0===this._traceFlags.debug,this._noop=t.noop||null,this._trace=t.trace||{started:[],finished:[]}}toTraceId(){return this._traceId.toString(10)}toSpanId(){return this._spanId.toString(10)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(208),i=n(819).f,o=n(418),s=n(617),a=n(823),u=n(1218),c=n(1008);t.exports=function(t,e){var n,f,p,l,d,h=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(f in e){if(l=e[f],p=t.noTargetGet?(d=i(n,f))&&d.value:n[f],!c(v?f:h+(g?".":"#")+f,t.forced)&&void 0!==p){if(typeof l==typeof p)continue;u(l,p)}(t.sham||p&&p.sham)&&o(l,"sham",!0),s(n,f,l,t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(248),i=n(820),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(208);t.exports=r},function(t,e,n){var r=n(566),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(830);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(831),i=n(820),o=n(275)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(382).f,i=n(331),o=n(275)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r,i=n(500),o=n(1228),s=n(829),a=n(766),u=n(1229),c=n(1002),f=n(824),p=f("IE_PROTO"),l=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete h.prototype[s[n]];return h()};a[p]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=i(t),n=new l,l.prototype=null,n[p]=t):n=h(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(331),i=n(501),o=n(824),s=n(1231),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(500),i=n(830),o=n(275)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){"use strict";(function(e){var r=n(1294),i=n(1295),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(a,"")}var c=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},i={},s=typeof(t=t||r);if("blob:"===t.protocol)i=new d(unescape(t.pathname),{});else if("string"===s)for(n in i=new d(t,{}),f)delete i[n];else if("object"===s){for(n in t)n in f||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function l(t){t=u(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function d(t,e,n){if(t=u(t),!(this instanceof d))return new d(t,e,n);var o,s,a,f,h,v,g=c.slice(),m=typeof e,_=this,y=0;for("object"!==m&&"string"!==m&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),e=p(e),o=!(s=l(t||"")).protocol&&!s.slashes,_.slashes=s.slashes||o&&e.slashes,_.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(g[3]=[/(.*)/,"pathname"]);y<g.length;y++)"function"!=typeof(f=g[y])?(a=f[0],v=f[1],a!=a?_[v]=t:"string"==typeof a?~(h=t.indexOf(a))&&("number"==typeof f[2]?(_[v]=t.slice(0,h),t=t.slice(h+f[2])):(_[v]=t.slice(h),t=t.slice(0,h))):(h=a.exec(t))&&(_[v]=h[1],t=t.slice(0,h.index)),_[v]=_[v]||o&&f[3]&&e[v]||"",f[4]&&(_[v]=_[v].toLowerCase())):t=f(t);n&&(_.query=n(_.query)),o&&e.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==e.pathname)&&(_.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(_.pathname,e.pathname)),r(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(f=_.auth.split(":"),_.username=f[0]||"",_.password=f[1]||""),_.origin=_.protocol&&_.host&&"file:"!==_.protocol?_.protocol+"//"+_.host:"null",_.href=_.toString()}d.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";o[t]=e.charAt(0)!==s?s+e:e}else o[t]=e;break;default:o[t]=e}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},d.extractProtocol=l,d.location=p,d.trimLeft=u,d.qs=i,t.exports=d}).call(this,n(63))},function(t,e,n){"use strict";const r={SERVICE_NAME:"service.name",RESOURCE_NAME:"resource.name",SPAN_TYPE:"span.type",SPAN_KIND:"span.kind",SAMPLING_PRIORITY:"sampling.priority",ANALYTICS:"_dd1.sr.eausr",ERROR:"error",MANUAL_KEEP:"manual.keep",MANUAL_DROP:"manual.drop",MEASURED:"_dd.measured",HTTP_URL:"http.url",HTTP_METHOD:"http.method",HTTP_STATUS_CODE:"http.status_code",HTTP_ROUTE:"http.route",HTTP_REQUEST_HEADERS:"http.request.headers",HTTP_RESPONSE_HEADERS:"http.response.headers"};r.ANALYTICS_SAMPLE_RATE=r.ANALYTICS,t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(353),i=n(1e3),o=n(763),s=n(675),a=n(822),u=n(331),c=n(1001),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(381);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(208),i=n(418);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(1005),i=n(765),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(767),i=n(208),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(1006),i=n(829).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(675),i=n(332),o=n(768),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),f=o(s,c);if(t&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r={};r[n(275)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(762),i=n(1230),o=n(774),s=n(677),a=n(772),u=n(418),c=n(617),f=n(275),p=n(825),l=n(676),d=n(1020),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=f("iterator"),m=function(){return this};t.exports=function(t,e,n,f,d,_,y){i(n,e,f);var E,T,b,x=function(t){if(t===d&&R)return R;if(!v&&t in O)return O[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},w=e+" Iterator",S=!1,O=t.prototype,A=O[g]||O["@@iterator"]||d&&O[d],R=!v&&A||x(d),I="Array"==e&&O.entries||A;if(I&&(E=o(I.call(new t)),h!==Object.prototype&&E.next&&(p||o(E)===h||(s?s(E,h):"function"!=typeof E[g]&&u(E,g,m)),a(E,w,!0,!0),p&&(l[w]=m))),"values"==d&&A&&"values"!==A.name&&(S=!0,R=function(){return A.call(this)}),p&&!y||O[g]===R||u(O,g,R),l[e]=R,d)if(T={values:x("values"),keys:_?R:x("keys"),entries:x("entries")},y)for(b in T)!v&&!S&&b in O||c(O,b,T[b]);else r({target:e,proto:!0,forced:v||S},T);return T}},function(t,e,n){var r=n(831),i=n(617),o=n(1232);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){var r=n(208),i=n(248),o=n(1016),s=n(143).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,u=r.Int8Array;t.exports=!s||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new a(2),1,void 0).length}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(678),i=n(1031),o=n(836);e.tracer=null,e.spanContext=null,e.span=null,e.initialize=function(){e.tracer=new o.default,e.span=new r.default,e.spanContext=new i.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1032),i=n(835),o=n(678),s=function(){function t(){}return t.prototype.startSpan=function(t,e){if(void 0===e&&(e={}),e.childOf){var n=r.childOf(e.childOf);e.references?e.references.push(n):e.references=[n],delete e.childOf}return this._startSpan(t,e)},t.prototype.inject=function(t,e,n){return t instanceof o.default&&(t=t.context()),this._inject(t,e,n)},t.prototype.extract=function(t,e){return this._extract(t,e)},t.prototype._startSpan=function(t,e){return i.span},t.prototype._inject=function(t,e,n){},t.prototype._extract=function(t,e){return i.spanContext},t}();e.Tracer=s,e.default=s},function(t,e,n){"use strict";function r(t,e,n){return function(r,i){const o=new Array(arguments.length);for(let t=0,r=o.length;t<r;t++)o[t]=e.bind(arguments[t],n);return t.apply(this,o)}}function i(t,e,n){return function(r,i){if(!i||i._datadog_unbound||i.listener)return t.apply(this,arguments);const o=e.bind(i,e._spanOrActive(n));this._datadog_events=this._datadog_events||{},this._datadog_events[r]||(this._datadog_events[r]=new WeakMap);const s=this._datadog_events[r];return s.has(i)||s.set(i,[]),s.get(i).push(o),t.call(this,r,o)}}function o(t){return function(e,n){const r=this._datadog_events&&this._datadog_events[e];if(!n||!r||!r.has(n))return t.apply(this,arguments);for(const i of r.get(n))t.call(this,e,i);return r.delete(n),t.call(this,e,n)}}function s(t){return function(e){return this._datadog_events&&(e?delete this._datadog_events[e]:delete this._datadog_events),t.call(this,e)}}function a(t,e,n,...r){if(!t[e]||t[e]._datadog_unbound)return;const i=t[e];t[e]=n(t[e],...r),t[e]._datadog_unbound=i}function u(t,e){t[e]&&t[e]._datadog_unbound&&(t[e]=t[e]._datadog_unbound)}t.exports=class{active(){return this._active()||null}activate(t,e){if("function"!=typeof e)return e;try{return this._activate(t,e)}catch(e){throw t&&"function"==typeof t.setTag&&t.setTag("error",e),e}}bind(t,e){return t=this._bindEmitter(t,e),t=this._bindPromise(t,e),t=this._bindFn(t,e)}unbind(t){return t=this._unbindFn(t),t=this._unbindPromise(t),t=this._unbindEmitter(t)}_active(){return null}_activate(t,e){return e()}_bindFn(t,e){if("function"!=typeof t)return t;const n=this,r=this._spanOrActive(e),i=function(){return n.activate(r,()=>t.apply(this,arguments))};return i._datadog_unbound=t,i}_unbindFn(t){return"function"!=typeof t?t:t._datadog_unbound||t}_bindEmitter(t,e){return this._isEmitter(t)?(a(t,"addListener",i,this,e),a(t,"prependListener",i,this,e),a(t,"on",i,this,e),a(t,"once",i,this,e),a(t,"prependOnceListener",i,this,e),a(t,"removeListener",o),a(t,"off",o),a(t,"removeAllListeners",s),t):t}_unbindEmitter(t){return this._isEmitter(t)?(u(t,"addListener"),u(t,"prependListener"),u(t,"on"),u(t,"once"),u(t,"prependOnceListener"),t):t}_bindPromise(t,e){return this._isPromise(t)?(a(t,"then",r,this,e),t):t}_unbindPromise(t){return this._isPromise(t)?(t.then=t.then._datadog_unbound||t.then,t):t}_spanOrActive(t){return void 0!==t?t:this.active()}_isEmitter(t){return t&&"function"==typeof t.emit&&"function"==typeof t.on&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}_isPromise(t){return t&&"function"==typeof t.then}}},function(t,e,n){"use strict";const r=n(333).Span,i=n(1332);let o=null;const s=new r;t.exports=class{constructor(){return o||(o=this),o}active(){return new i(s)}activate(t,e){return new i(t,e)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(353),i=n(248),o=n(1002);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(208),i=n(381),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(1004),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(208),i=n(823),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(825),i=n(1004);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(331),i=n(675),o=n(828).indexOf,s=n(766);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(248),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(1006),i=n(829);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(762),i=n(208),o=n(1008),s=n(617),a=n(1011),u=n(1012),c=n(771),f=n(381),p=n(248),l=n(1016),d=n(772),h=n(1017);t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),m=v?"set":"add",_=i[t],y=_&&_.prototype,E=_,T={},b=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof _||!(g||y.forEach&&!p((function(){(new _).entries().next()})))))E=n.getConstructor(e,t,v,m),a.REQUIRED=!0;else if(o(t,!0)){var x=new E,w=x[m](g?{}:-0,1)!=x,S=p((function(){x.has(1)})),O=l((function(t){new _(t)})),A=!g&&p((function(){for(var t=new _,e=5;e--;)t[m](e,e);return!t.has(-0)}));O||((E=e((function(e,n){c(e,E,t);var r=h(new _,e,E);return null!=n&&u(n,r[m],r,v),r}))).prototype=y,y.constructor=E),(S||A)&&(b("delete"),b("has"),v&&b("get")),(A||w)&&b(m),g&&y.clear&&delete y.clear}return T[t]=E,r({global:!0,forced:E!=_},T),d(E,t),g||n.setStrong(E,t,v),E}},function(t,e,n){var r=n(766),i=n(381),o=n(331),s=n(382).f,a=n(765),u=n(1224),c=a("meta"),f=0,p=Object.isExtensible||function(){return!0},l=function(t){s(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!p(t))return"F";if(!e)return"E";l(t)}return t[c].objectID},getWeakData:function(t,e){if(!o(t,c)){if(!p(t))return!0;if(!e)return!1;l(t)}return t[c].weakData},onFreeze:function(t){return u&&d.REQUIRED&&p(t)&&!o(t,c)&&l(t),t}};r[c]=!0},function(t,e,n){var r=n(500),i=n(1013),o=n(332),s=n(769),a=n(1015),u=n(1226),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,p){var l,d,h,v,g,m,_,y=s(e,n,f?2:1);if(p)l=t;else{if("function"!=typeof(d=a(t)))throw TypeError("Target is not iterable");if(i(d)){for(h=0,v=o(t.length);v>h;h++)if((g=f?y(r(_=t[h])[0],_[1]):y(t[h]))&&g instanceof c)return g;return new c(!1)}l=d.call(t)}for(m=l.next;!(_=m.call(l)).done;)if("object"==typeof(g=u(l,y,_.value,f))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){var r=n(275),i=n(676),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(248);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(770),i=n(676),o=n(275)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(275)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r=n(381),i=n(677);t.exports=function(t,e,n){var o,s;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(t,s),t}},function(t,e,n){"use strict";var r=n(382).f,i=n(773),o=n(1019),s=n(769),a=n(771),u=n(1012),c=n(832),f=n(1021),p=n(353),l=n(1011).fastKey,d=n(618),h=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){a(t,f,e),h(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),p||(t.size=0),null!=r&&u(r,t[c],t,n)})),d=v(e),g=function(t,e,n){var r,i,o=d(t),s=m(t,e);return s?s.value=n:(o.last=s={index:i=l(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),p?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},m=function(t,e){var n,r=d(t),i=l(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(f.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,p?t.size=0:this.size=0},delete:function(t){var e=d(this),n=m(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),p?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=d(this),r=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),o(f.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),p&&r(f.prototype,"size",{get:function(){return d(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);c(t,e,(function(t,e){h(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var r=n(617);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r,i,o,s=n(774),a=n(418),u=n(331),c=n(275),f=n(825),p=c("iterator"),l=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):l=!0),null==r&&(r={}),f||u(r,p)||a(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},function(t,e,n){"use strict";var r=n(826),i=n(382),o=n(275),s=n(353),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(1233).charAt,i=n(618),o=n(832),s=i.set,a=i.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(208),i=n(1234),o=n(1024),s=n(418),a=n(275),u=a("iterator"),c=a("toStringTag"),f=o.values;for(var p in i){var l=r[p],d=l&&l.prototype;if(d){if(d[u]!==f)try{s(d,u,f)}catch(t){d[u]=f}if(d[c]||s(d,c,p),i[p])for(var h in o)if(d[h]!==o[h])try{s(d,h,o[h])}catch(t){d[h]=o[h]}}}},function(t,e,n){"use strict";var r=n(675),i=n(1235),o=n(676),s=n(618),a=n(832),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(566),i=n(332);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(501),i=n(768),o=n(332);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){var r=n(1244);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(501),i=n(332),o=n(1015),s=n(1013),a=n(769),u=n(143).aTypedArrayConstructor;t.exports=function(t){var e,n,c,f,p,l,d=r(t),h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,m=o(d);if(null!=m&&!s(m))for(l=(p=m.call(d)).next,d=[];!(f=l.call(p)).done;)d.push(f.value);for(g&&h>2&&(v=a(v,arguments[2],2)),n=i(d.length),c=new(u(this))(n),e=0;n>e;e++)c[e]=g?v(d[e],e):d[e];return c}},function(t,e,n){var r=n(830),i=n(501),o=n(764),s=n(332),a=function(t){return function(e,n,a,u){r(n);var c=i(e),f=o(c),p=s(c.length),l=t?p-1:0,d=t?-1:1;if(a<2)for(;;){if(l in f){u=f[l],l+=d;break}if(l+=d,t?l<0:p<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:p>l;l+=d)l in f&&(u=n(u,f[l],l,c));return u}};t.exports={left:a(!1),right:a(!0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.toTraceId=function(){return""},t.prototype.toSpanId=function(){return""},t}();e.SpanContext=r,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1033),i=n(1034),o=n(678);e.childOf=function(t){return t instanceof o.default&&(t=t.context()),new i.default(r.REFERENCE_CHILD_OF,t)},e.followsFrom=function(t){return t instanceof o.default&&(t=t.context()),new i.default(r.REFERENCE_FOLLOWS_FROM,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORMAT_BINARY="binary",e.FORMAT_TEXT_MAP="text_map",e.FORMAT_HTTP_HEADERS="http_headers",e.REFERENCE_CHILD_OF="child_of",e.REFERENCE_FOLLOWS_FROM="follows_from"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(678),i=function(){function t(t,e){this._type=t,this._referencedContext=e instanceof r.default?e.context():e}return t.prototype.type=function(){return this._type},t.prototype.referencedContext=function(){return this._referencedContext},t}();e.default=i},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this)||this;return n._span=e,n}return i(e,t),e.prototype.span=function(){return this._span},e}(n(333).SpanContext);e.MockContext=o,e.default=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(333),s=n(1035),a=function(t){function e(e){var n=t.call(this)||this;return n._mockTracer=e,n._uuid=n._generateUUID(),n._startMs=Date.now(),n._finishMs=0,n._operationName="",n._tags={},n._logs=[],n}return i(e,t),e.prototype._context=function(){return new s.default(this)},e.prototype._setOperationName=function(t){this._operationName=t},e.prototype._addTags=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._tags[r]=t[r]}},e.prototype._log=function(t,e){this._logs.push({fields:t,timestamp:e})},e.prototype._finish=function(t){this._finishMs=t||Date.now()},e.prototype.uuid=function(){return this._uuid},e.prototype.operationName=function(){return this._operationName},e.prototype.durationMs=function(){return this._finishMs-this._startMs},e.prototype.tags=function(){return this._tags},e.prototype.tracer=function(){return this._mockTracer},e.prototype._generateUUID=function(){return""+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)},e.prototype.addReference=function(t){},e.prototype.debug=function(){var t={uuid:this._uuid,operation:this._operationName,millis:[this._finishMs-this._startMs,this._startMs,this._finishMs]};return Object.keys(this._tags).length&&(t.tags=this._tags),t},e}(o.Span);e.MockSpan=a,e.default=a},function(t,e,n){"use strict";const r=n(1302),i={isPeer(t,e){if(!t)return!1;for(const n of e){if(t===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}};t.exports=Object.assign({},r,i)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(334);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(334),i=n(1316),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(1042):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(a=n(1042)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u}).call(this,n(196))},function(t,e,n){"use strict";var r=n(334),i=n(1317),o=n(1039),s=n(1319),a=n(1322),u=n(1323),c=n(1043);t.exports=function(t){return new Promise((function(e,f){var p=t.data,l=t.headers;r.isFormData(p)&&delete l["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",v=t.auth.password||"";l.Authorization="Basic "+btoa(h+":"+v)}var g=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,f,r),d=null}},d.onabort=function(){d&&(f(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){f(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(c(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(1324),_=(t.withCredentials||u(g))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;_&&(l[t.xsrfHeaderName]=_)}if("setRequestHeader"in d&&r.forEach(l,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete l[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),f(t),d=null)})),void 0===p&&(p=null),d.send(p)}))}},function(t,e,n){"use strict";var r=n(1318);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";var r=n(334);t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(o,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(s,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var a=i.concat(o).concat(s),u=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";const r=n(1047),i=n(1327),o=n(1048),s=n(777),a=n(1328),u=n(1329);t.exports={formats:r,kinds:i,priority:o,tags:s,types:a,exporters:u}},function(t,e,n){"use strict";const r=n(333);t.exports={TEXT_MAP:r.FORMAT_TEXT_MAP,HTTP_HEADERS:r.FORMAT_HTTP_HEADERS,BINARY:r.FORMAT_BINARY,LOG:"log"}},function(t,e,n){"use strict";t.exports={USER_REJECT:-1,AUTO_REJECT:0,AUTO_KEEP:1,USER_KEEP:2}},function(t,e,n){"use strict";const r=n(333).Span,i=n(1050),o=n(620);t.exports=class extends r{constructor(t,e){super(),Object.defineProperties(this,{_noopTracer:{value:t},_noopContext:{value:this._createContext(e)}})}_context(){return this._noopContext}_tracer(){return this._noopTracer}_createContext(t){const e=o();return new i(t?{noop:this,traceId:t._traceId,spanId:e,parentId:t._spanId,baggageItems:Object.assign({},t._baggageItems)}:{noop:this,traceId:e,spanId:e})}}},function(t,e,n){"use strict";const r=n(679),i=n(1048).USER_REJECT;t.exports=class extends r{constructor(t){super(t),this._traceFlags.sampled=!1,this._sampling.priority=i}}},function(t,e,n){"use strict";const r=n(838);t.exports=r},function(t,e,n){"use strict";const r=n(567);t.exports={add:function t(e,n){if(e&&n){if("string"==typeof n)return t(e,n.split(",").filter(t=>-1!==t.indexOf(":")).reduce((t,e)=>{const n=e.split(":"),r=n[0],i=n.slice(1).join(":");return t[r]=i,t},{}));if(Array.isArray(n))return n.forEach(n=>t(e,n));try{Object.keys(n).forEach(t=>{e[t]=n[t]})}catch(t){r.error(t)}}}}},function(t,e,n){"use strict";t.exports=class{constructor(t){this._rate=t}rate(){return this._rate}isSampled(){return 1===this._rate||Math.random()<this._rate}}},function(t,e,n){(function(e){var n=function(t,e,n,r){if(this.bucketSize=t,this.tokensPerInterval=e,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date};n.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(t,n){var r=this;return this.bucketSize?t>this.bucketSize?(e.nextTick(n.bind(null,"Requested tokens "+t+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),t>this.content?i():this.parentBucket?this.parentBucket.removeTokens(t,(function(e,o){return e?n(e,null):t>r.content?i():(r.content-=t,void n(null,Math.min(o,r.content)))})):(this.content-=t,e.nextTick(n.bind(null,null,this.content)),!0)):(e.nextTick(n.bind(null,null,t,Number.POSITIVE_INFINITY)),!0);function i(){var e=Math.ceil((t-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(t,n)}),e),!1}},tryRemoveTokens:function(t){return!this.bucketSize||!(t>this.bucketSize)&&(this.drip(),!(t>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(t))&&(this.content-=t,!0)))},drip:function(){if(this.tokensPerInterval){var t=+new Date,e=Math.max(t-this.lastDrip,0);this.lastDrip=t;var n=e*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+n,this.bucketSize)}else this.content=this.bucketSize}},t.exports=n}).call(this,n(196))},function(t,e,n){"use strict";const r=n(1343),i=n(620),o=n(679),s=n(1050),a=n(567),u="x-datadog-trace-id",c="x-datadog-parent-id",f="x-datadog-origin",p="x-datadog-sampling-priority",l="x-datadog-sampled",d="ot-baggage-",h="x-b3-traceid",v=/^([0-9a-f]{16}){1,2}$/i,g="x-b3-spanid",m=/^[0-9a-f]{16}$/i,_="x-b3-parentspanid",y="x-b3-sampled",E="x-b3-flags",T="b3",b=/^(([0-9a-f]{16}){1,2}-[0-9a-f]{16}(-[01d](-[0-9a-f]{16})?)?|[01d])$/i,x=new RegExp(`^${d}(.+)$`),w=[u,c,p,f].concat([h,g,_,y,E,T]);t.exports=class{constructor(t){this._config=t}inject(t,e){e[u]=t.toTraceId(),e[c]=t.toSpanId(),e[l]=t._traceFlags.sampled?"1":"0",this._injectOrigin(t,e),this._injectSamplingPriority(t,e),this._injectBaggageItems(t,e),this._injectB3(t,e),a.debug(()=>`Inject into carrier: ${JSON.stringify(r(e,w))}.`)}extract(t){const e=this._extractSpanContext(t);return e?(this._extractOrigin(t,e),this._extractBaggageItems(t,e),this._extractSamplingPriority(t,e),a.debug(()=>`Extract from carrier: ${JSON.stringify(r(t,w))}.`),e):e}_injectOrigin(t,e){const n=t._trace.origin;n&&(e[f]=n)}_injectSamplingPriority(t,e){const n=t._sampling.priority;Number.isInteger(n)&&(e[p]=n.toString())}_injectBaggageItems(t,e){t._baggageItems&&Object.keys(t._baggageItems).forEach(n=>{e[d+n]=String(t._baggageItems[n])})}_injectB3(t,e){this._config.experimental.b3&&(e[h]=t._traceId.toString("hex"),e[g]=t._spanId.toString("hex"),e[y]=t._traceFlags.sampled?"1":"0",t._traceFlags.debug&&(e[E]="1"),t._parentId&&(e[_]=t._parentId.toString("hex")))}_extractSpanContext(t){const e=this._extractContext(t);return e?!1!==e.traceFlags.sampled?new o(e):new s(e):null}_extractContext(t){return this._extractDatadogContext(t)||this._extractB3Context(t)}_extractDatadogContext(t){const e=this._isSampled(t[l]);return this._extractGenericContext(t,u,c,{sampled:e},10)}_extractB3Context(t){if(!this._config.experimental.b3)return null;const e=this._extractB3Headers(t),n="1"===e[E],r=this._isSampled(e[y],n);return this._extractGenericContext(e,h,g,{sampled:r,debug:n})}_extractGenericContext(t,e,n,r,o){return t[e]&&t[n]?{traceId:i(t[e],o),spanId:i(t[n],o),traceFlags:r}:"boolean"==typeof r.sampled?{traceId:i(),spanId:null,traceFlags:r}:null}_extractB3Headers(t){return b.test(t[T])?this._extractB3SingleHeader(t):this._extractB3MultipleHeaders(t)}_extractB3MultipleHeaders(t){const e={};return v.test(t[h])&&m.test(t[g])&&(e[h]=t[h],e[g]=t[g]),t[y]&&(e[y]=t[y]),t[E]&&(e[E]=t[E]),e}_extractB3SingleHeader(t){const e=t[T].split("-");if("d"===e[0])return{[y]:"1",[E]:"1"};if(1===e.length)return{[y]:e[0]};{const t={[h]:e[0],[g]:e[1],[y]:"0"!==e[2]?"1":"0"};return"d"===e[2]&&(t[E]="1"),t}}_extractOrigin(t,e){const n=t[f];"string"==typeof t[f]&&(e._trace.origin=n)}_extractBaggageItems(t,e){Object.keys(t).forEach(n=>{const r=n.match(x);r&&(e._baggageItems[r[1]]=t[n])})}_extractSamplingPriority(t,e){const n=parseInt(t[p],10);Number.isInteger(n)&&(e._sampling.priority=parseInt(t[p],10))}_isSampled(t,e){return!(!e&&"1"!==t)||"0"!==t&&null}}},function(t,e,n){"use strict";t.exports={ASYNC_LOCAL_STORAGE:"async_local_storage",ASYNC_HOOKS:"async_hooks",NOOP:"noop"}},function(t,e,n){"use strict";t.exports={isTrue:function(t){return"true"===(t=String(t).toLowerCase())||"1"===t},isFalse:function(t){return"false"===(t=String(t).toLowerCase())||"0"===t}}},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";t.exports=n(1213)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(1214),n(1221),n(1236),n(1239);const r=n(419),i=n(1285),o=n(1046);r.use(i);const s=new(n(1330));t.exports=s,t.exports.default=t.exports,t.exports.tracer=t.exports,window.ddtrace={tracer:s,ext:o}},function(t,e,n){var r=n(1215);t.exports=r},function(t,e,n){n(1216);var r=n(767);t.exports=r.Object.assign},function(t,e,n){var r=n(762),i=n(1220);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){var r=n(208),i=n(1003),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(331),i=n(1219),o=n(819),s=n(382);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||a(t,f,u(e,f))}}},function(t,e,n){var r=n(826),i=n(827),o=n(1007),s=n(500);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(353),i=n(248),o=n(1009),s=n(1007),a=n(1e3),u=n(501),c=n(764),f=Object.assign,p=Object.defineProperty;t.exports=!f||i((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=o(f({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,f=1,p=s.f,l=a.f;i>f;)for(var d,h=c(arguments[f++]),v=p?o(h).concat(p(h)):o(h),g=v.length,m=0;g>m;)d=v[m++],r&&!l.call(h,d)||(n[d]=h[d]);return n}:f},function(t,e,n){var r=n(1222);t.exports=r},function(t,e,n){n(1223),n(833),n(1022),n(1023);var r=n(767);t.exports=r.Set},function(t,e,n){"use strict";var r=n(1010),i=n(1018);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(248);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(1014);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(500);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(381);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(353),i=n(382),o=n(500),s=n(1009);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(826);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(1020).IteratorPrototype,i=n(773),o=n(763),s=n(772),a=n(676),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,n){var r=n(248);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(831),i=n(770);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(566),i=n(821),o=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(275),i=n(773),o=n(382),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var r=n(1237);t.exports=r},function(t,e,n){n(1238),n(833),n(1022),n(1023);var r=n(767);t.exports=r.Map},function(t,e,n){"use strict";var r=n(1010),i=n(1018);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(1240);t.exports=r},function(t,e,n){n(1241),n(1247),n(1248),n(1249),n(1250),n(1251),n(1252),n(1253),n(1254),n(1255),t.exports=n(208)},function(t,e,n){n(457)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(208),i=n(353),o=n(1025),s=n(418),a=n(1019),u=n(248),c=n(771),f=n(566),p=n(332),l=n(1026),d=n(1243),h=n(774),v=n(677),g=n(827).f,m=n(382).f,_=n(1027),y=n(772),E=n(618),T=E.get,b=E.set,x=r.ArrayBuffer,w=x,S=r.DataView,O=S&&S.prototype,A=Object.prototype,R=r.RangeError,I=d.pack,C=d.unpack,L=function(t){return[255&t]},k=function(t){return[255&t,t>>8&255]},N=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},D=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},M=function(t){return I(t,23,4)},P=function(t){return I(t,52,8)},j=function(t,e){m(t.prototype,e,{get:function(){return T(this)[e]}})},U=function(t,e,n,r){var i=l(n),o=T(t);if(i+e>o.byteLength)throw R("Wrong index");var s=T(o.buffer).bytes,a=i+o.byteOffset,u=s.slice(a,a+e);return r?u:u.reverse()},B=function(t,e,n,r,i,o){var s=l(n),a=T(t);if(s+e>a.byteLength)throw R("Wrong index");for(var u=T(a.buffer).bytes,c=s+a.byteOffset,f=r(+i),p=0;p<e;p++)u[c+p]=f[o?p:e-p-1]};if(o){if(!u((function(){x(1)}))||!u((function(){new x(-1)}))||u((function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name}))){for(var F,H=(w=function(t){return c(this,w),new x(l(t))}).prototype=x.prototype,G=g(x),q=0;G.length>q;)(F=G[q++])in w||s(w,F,x[F]);H.constructor=w}v&&h(O)!==A&&v(O,A);var z=new S(new w(2)),W=O.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||a(O,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else w=function(t){c(this,w,"ArrayBuffer");var e=l(t);b(this,{bytes:_.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},S=function(t,e,n){c(this,S,"DataView"),c(t,w,"DataView");var r=T(t).byteLength,o=f(e);if(o<0||o>r)throw R("Wrong offset");if(o+(n=void 0===n?r-o:p(n))>r)throw R("Wrong length");b(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(j(w,"byteLength"),j(S,"buffer"),j(S,"byteLength"),j(S,"byteOffset")),a(S.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return D(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return D(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return C(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return C(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){B(this,1,t,L,e)},setUint8:function(t,e){B(this,1,t,L,e)},setInt16:function(t,e){B(this,2,t,k,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){B(this,2,t,k,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){B(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){B(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){B(this,4,t,M,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){B(this,8,t,P,e,arguments.length>2?arguments[2]:void 0)}});y(w,"ArrayBuffer"),y(S,"DataView"),t.exports={ArrayBuffer:w,DataView:S}},function(t,e){var n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,s=Math.LN2;t.exports={pack:function(t,e,a){var u,c,f,p=new Array(a),l=8*a-e-1,d=(1<<l)-1,h=d>>1,v=23===e?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,m=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,u=d):(u=i(o(t)/s),t*(f=r(2,-u))<1&&(u--,f*=2),(t+=u+h>=1?v/f:v*r(2,1-h))*f>=2&&(u++,f/=2),u+h>=d?(c=0,u=d):u+h>=1?(c=(t*f-1)*r(2,e),u+=h):(c=t*r(2,h-1)*r(2,e),u=0));e>=8;p[m++]=255&c,c/=256,e-=8);for(u=u<<e|c,l+=e;l>0;p[m++]=255&u,u/=256,l-=8);return p[--m]|=128*g,p},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,s=(1<<o)-1,a=s>>1,u=o-7,c=i-1,f=t[c--],p=127&f;for(f>>=7;u>0;p=256*p+t[c],c--,u-=8);for(n=p&(1<<-u)-1,p>>=-u,u+=e;u>0;n=256*n+t[c],c--,u-=8);if(0===p)p=1-a;else{if(p===s)return n?NaN:f?-1/0:1/0;n+=r(2,e),p-=a}return(f?-1:1)*n*r(2,p-e)}}},function(t,e,n){var r=n(566);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(381),i=n(1246),o=n(275)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(820);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){n(457)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(457)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(457)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(1256),n(1257),n(1258),n(1260),n(1261),n(1262),n(1263),n(1264),n(1265),n(1266),n(1267),n(1268),n(1269),n(1273),n(1274),n(1275),n(1276),n(1277),n(1278),n(1279),n(1280),n(1281),n(1282),n(1283),n(1284),n(833)},function(t,e,n){"use strict";var r=n(834);(0,n(143).exportTypedArrayStaticMethod)("from",n(1029),r)},function(t,e,n){"use strict";var r=n(143),i=n(834),o=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n}),i)},function(t,e,n){"use strict";var r=n(143),i=n(1259),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(501),i=n(768),o=n(332),s=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),u=i(t,a),c=i(e,a),f=arguments.length>2?arguments[2]:void 0,p=s((void 0===f?a:i(f,a))-c,a-u),l=1;for(c<u&&u<c+p&&(l=-1,c+=p-1,u+=p-1);p-- >0;)c in n?n[u]=n[c]:delete n[u],u+=l,c+=l;return n}},function(t,e,n){"use strict";var r=n(143),i=n(502).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(1027),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(143),i=n(502).filter,o=n(775),s=r.aTypedArray,a=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=i(s(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,u=e.length,c=new(a(n))(u);u>r;)c[r]=e[r++];return c}))},function(t,e,n){"use strict";var r=n(143),i=n(502).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(502).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(502).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(828).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(828).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=[].join;o("join",(function(t){return s.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(143),i=n(1270),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(675),i=n(566),o=n(332),s=n(1271),a=n(1272),u=Math.min,c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0,p=s("lastIndexOf"),l=a("indexOf",{ACCESSORS:!0,1:0}),d=f||!p||!l;t.exports=d?function(t){if(f)return c.apply(this,arguments)||0;var e=r(this),n=o(e.length),s=n-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},function(t,e,n){"use strict";var r=n(248);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(353),i=n(248),o=n(331),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,f=o(e,0)?e[0]:u,p=o(e,1)?e[1]:void 0;return a[t]=!!n&&!i((function(){if(c&&!r)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,f,p)}))}},function(t,e,n){"use strict";var r=n(143),i=n(502).map,o=n(775),s=r.aTypedArray,a=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(a(o(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(143),i=n(1030).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=n(1030).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var t,e=i(this).length,n=s(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(143),i=n(332),o=n(1028),s=n(501),a=n(248),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=s(t),a=i(r.length),c=0;if(a+e>n)throw RangeError("Wrong length");for(;c<a;)this[e+c]=r[c++]}),a((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(143),i=n(775),o=n(248),s=r.aTypedArray,a=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice;u("slice",(function(t,e){for(var n=c.call(s(this),t,e),r=i(this,this.constructor),o=0,u=n.length,f=new(a(r))(u);u>o;)f[o]=n[o++];return f}),o((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(143),i=n(502).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(143),i=r.aTypedArray,o=r.exportTypedArrayMethod,s=[].sort;o("sort",(function(t){return s.call(i(this),t)}))},function(t,e,n){"use strict";var r=n(143),i=n(332),o=n(768),s=n(775),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=a(this),r=n.length,u=o(t,r);return new(s(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-u))}))},function(t,e,n){"use strict";var r=n(208),i=n(143),o=n(248),s=r.Int8Array,a=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,f=[].slice,p=!!s&&o((function(){c.call(new s(1))}));u("toLocaleString",(function(){return c.apply(p?f.call(a(this)):a(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(143).exportTypedArrayMethod,i=n(248),o=n(208).Uint8Array,s=o&&o.prototype||{},a=[].toString,u=[].join;i((function(){a.call({})}))&&(a=function(){return u.call(this)});var c=s.toString!=a;r("toString",a,c)},function(t,e,n){"use strict";var r=n(208),i=n(143),o=n(1024),s=n(275)("iterator"),a=r.Uint8Array,u=o.values,c=o.keys,f=o.entries,p=i.aTypedArray,l=i.exportTypedArrayMethod,d=a&&a.prototype[s],h=!!d&&("values"==d.name||null==d.name),v=function(){return u.call(p(this))};l("entries",(function(){return f.call(p(this))})),l("keys",(function(){return c.call(p(this))})),l("values",v,!h),l(s,v,!h)},function(t,e,n){"use strict";const r=n(1286),i=n(1287),o=n(1288),s=n(1289),a=n(1290),u=n(1291),c=n(1292),f=n(1304),p=n(1305),l=n(1307),d=n(1308),h={_config:{},name:()=>{},version:()=>{},engine:()=>{},crypto:r,now:i,env:o,tags:s,validate:a,service:()=>"browser",appVersion:()=>null,metrics:u,plugins:c,startupLog:f,hostname:()=>{},on:()=>{},off:()=>{},Loader:l,getScope:()=>d,exporter:p,profiler:()=>({start:()=>{},stop:()=>{}}),client:n(1309)};t.exports=h},function(t,e,n){"use strict";t.exports=window.crypto||window.msCrypto},function(t,e,n){"use strict";t.exports=()=>window.performance.now()},function(t,e,n){"use strict";t.exports=t=>window[t]},function(t,e,n){"use strict";t.exports=()=>{const t=window.DD_RUM;return{...t&&t.getInternalContext&&t.getInternalContext()}}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";let r=null;t.exports=function(){return r||(r={start:()=>{},stop:()=>{},track:()=>({finish:()=>{}}),boolean(){},histogram(){},count(){},gauge(){},increment(){},decrement(){}})}},function(t,e,n){"use strict";t.exports={fetch:n(1293),xmlhttprequest:n(1303)}},function(t,e,n){"use strict";const r=n(776),{Reference:i,REFERENCE_CHILD_OF:o}=n(333),{REFERENCE_NOOP:s}=n(619),a=n(1037);function u(t,e){return function(n){return n._datadog_wrapper=function(u,c){const f=e.service||`${t._service}-http-client`,p=function(t,e){return e&&e.method?e.method:t&&t.method?t.method:"GET"}(u,c),l=function(t){const e="object"==typeof t?t.url:t;return new r(e,window.location.origin)}(u),d=t.scope().active(),h=function(t,e){return new RegExp(`^${t}/v1/input/[a-z0-9]+$`,"i").test(e.href)||e.href.startsWith("https://rum-http-intake.logs.datadoghq.com")||e.href.startsWith("https://browser-http-intake.logs.datadoghq.com")}(t._url.href,l)?s:o,v=t.startSpan("browser.request",{references:[new i(h,d)],tags:{"span.kind":"client","service.name":f,"resource.name":p,"span.type":"http","http.method":p,"http.url":l.href}});v.setTag("_top_level",1),h===o&&(c=function(t,e,n,r){const i=window.ddtrace.ext.formats.HTTP_HEADERS,o=e._peers;if(r!==window.location.origin&&!a.isPeer(r,o))return t;if((t=t||{}).headers=t.headers||{},"function"==typeof t.headers.set){const r={};e.inject(n,i,r);for(const e in r)t.headers.set(e,r[e])}else e.inject(n,i,t.headers);return t}(c,t,v,l.origin));const g=t.scope().bind(n,v).call(this,u,c);return g.then(t=>{v.setTag("http.status_code",t.status)}),a.wrap(v,g),g},function(){return n._datadog_wrapper.apply(this,arguments)}}}t.exports={name:"fetch",patch:(t,e,n)=>u(e,n)(t),unpatch(t){!function(t){t._datadog_wrapper=t}(t)}}},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r,i=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,s=[];for(o in"string"!=typeof e&&(e="?"),t)if(i.call(t,o)){if((n=t[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;s.push(o+"="+n)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),s=o(e[2]);null===i||null===s||i in r||(r[i]=s)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){this.buffer=t};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SPAN_KIND="span.kind",e.SPAN_KIND_RPC_CLIENT="client",e.SPAN_KIND_RPC_SERVER="server",e.SPAN_KIND_MESSAGING_PRODUCER="producer",e.SPAN_KIND_MESSAGING_CONSUMER="consumer",e.ERROR="error",e.COMPONENT="component",e.SAMPLING_PRIORITY="sampling.priority",e.PEER_SERVICE="peer.service",e.PEER_HOSTNAME="peer.hostname",e.PEER_ADDRESS="peer.address",e.PEER_HOST_IPV4="peer.ipv4",e.PEER_HOST_IPV6="peer.ipv6",e.PEER_PORT="peer.port",e.HTTP_URL="http.url",e.HTTP_METHOD="http.method",e.HTTP_STATUS_CODE="http.status_code",e.MESSAGE_BUS_DESTINATION="message_bus.destination",e.DB_INSTANCE="db.instance",e.DB_STATEMENT="db.statement",e.DB_TYPE="db.type",e.DB_USER="db.user"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1035);e.MockContext=r.default;var i=n(1036);e.MockSpan=i.default;var o=n(1299);e.MockTracer=o.default},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(333),s=n(1300),a=n(1036),u=function(t){function e(){var e=t.call(this)||this;return e._spans=[],e}return i(e,t),e.prototype._startSpan=function(t,e){var n=this._allocSpan();if(n.setOperationName(t),this._spans.push(n),e.references)for(var r=0,i=e.references;r<i.length;r++){var o=i[r];n.addReference(o)}return n._startStack=(new Error).stack,n},e.prototype._inject=function(t,e,n){throw new Error("NOT YET IMPLEMENTED")},e.prototype._extract=function(t,e){throw new Error("NOT YET IMPLEMENTED")},e.prototype._allocSpan=function(){return new a.default(this)},e.prototype.clear=function(){this._spans=[]},e.prototype.report=function(){return new s.default(this._spans)},e}(o.Tracer);e.MockTracer=u,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=this;this.spans=t,this.spansByUUID={},this.spansByTag={},this.debugSpans=[],this.unfinishedSpans=[],t.forEach((function(t){0===t._finishMs&&e.unfinishedSpans.push(t),e.spansByUUID[t.uuid()]=t,e.debugSpans.push(t.debug());var n=t.tags();Object.keys(n).forEach((function(r){var i=n[r];e.spansByTag[r]=e.spansByTag[r]||{},e.spansByTag[r][i]=e.spansByTag[r][i]||[],e.spansByTag[r][i].push(t)}))}))}return t.prototype.firstSpanWithTagValue=function(t,e){var n=this.spansByTag[t];if(!n)return null;var r=n[e];return r?r[0]:null},t}();e.MockReport=r,e.default=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(836),s=new o.default,a=null,u=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.startSpan=function(){var t=a||s;return t.startSpan.apply(t,arguments)},e.prototype.inject=function(){var t=a||s;return t.inject.apply(t,arguments)},e.prototype.extract=function(){var t=a||s;return t.extract.apply(t,arguments)},e}(o.default));e.initGlobalTracer=function(t){a=t},e.globalTracer=function(){return u}},function(t,e,n){"use strict";const r={setHost(t,e,n){e&&t.setTag("out.host",e),n&&t.setTag("out.port",n)},wrap(t,e){return"function"!=typeof e&&e?function(t){return"object"==typeof t&&null!==t}(n=e)&&"function"==typeof n.then?function(t,e){return e.then(()=>i(t),e=>i(t,e)),e}(t,e):void 0:function(t,e){const n=t.tracer().scope(),r=n.active();return function(o){if(i(t,o),e)return n.activate(r,()=>e.apply(this,arguments))}}(t,e);var n}};function i(t,e){e&&t.addTags({"error.type":e.name,"error.msg":e.message,"error.stack":e.stack}),t.finish()}t.exports=r},function(t,e,n){"use strict";const r=n(776),{Reference:i,REFERENCE_CHILD_OF:o}=n(333),{REFERENCE_NOOP:s}=n(619),a=n(1037);function u(t,e,n){const r=window.ddtrace.ext.formats.HTTP_HEADERS,i={},o=t._datadog_url.origin,s=e._peers;if(o===window.location.origin||a.isPeer(o,s)){e.inject(n,r,i);for(const e in i)t.setRequestHeader(e,i[e])}}function c(t,e){return new RegExp(`^${t}/v1/input/[a-z0-9]+$`,"i").test(e.href)||e.href.startsWith("https://rum-http-intake.logs.datadoghq.com")||e.href.startsWith("https://browser-http-intake.logs.datadoghq.com")}t.exports={name:"XMLHttpRequest",patch(t,e,n){this.wrap(t.prototype,"open",(function(t){return function(e,n){return this._datadog_method=e,this._datadog_url=new r(n,window.location.origin),t.apply(this,arguments)}})),this.wrap(t.prototype,"send",function(t,e){return function(n){return function(r){const a=e.service||`${t._service}-http-client`,f=this._datadog_method,p=this._datadog_url,l=t.scope(),d=l.active(),h=c(t._url.href,p)?s:o,v=t.startSpan("browser.request",{references:[new i(h,d)],tags:{"span.kind":"client","service.name":a,"resource.name":f,"span.type":"http","http.method":f,"http.url":p.href}});v.setTag("_top_level",1),h===o&&u(this,t,v),this.addEventListener("error",t=>v.setTag("error",t)),this.addEventListener("load",()=>v.setTag("http.status",this.status)),this.addEventListener("loadend",()=>v.finish());try{return t.scope().bind(n,v).apply(this,arguments)}catch(t){throw v.setTag("error",t),v.finish(),t}}}}(e,n))},unpatch(t){this.unwrap(t.prototype,"open"),this.unwrap(t.prototype,"send")}}},function(t,e,n){"use strict";t.exports={startupLog:()=>{},setStartupLogConfig:()=>{},setStartupLogInstrumenter:()=>{},setSamplingRules:()=>{}}},function(t,e,n){"use strict";const r=n(1306);t.exports=()=>r},function(t,e,n){"use strict";const r=n(776),i=65536,o="\r\n";t.exports=class{constructor({clientToken:t,url:e,site:n,env:i}){this._queue=[],this._flushing=!1,this._clientToken=t,this._env=i,this._url=e||new r(`https://public-trace-http-intake.logs.${n}`),this._size=0,window.addEventListener("beforeunload",()=>this._flush()),window.addEventListener("visibilitychange",()=>this._flush())}export(t){const e=this._traceMeta(),n=JSON.stringify({spans:t,meta:e}),r=n.length+(this._queue.length>0?o.length:0);if(this._size+r>i){if(this._flushing)return;if(r>i)return;this._flush()}this._size+=r,this._queue.push(n)}_flush(){if(0===this._queue.length)return;this._flushing=!0;const t=`${this._url.href}/v1/input/${this._clientToken}`,e=this._queue.join(o);this._queue=[],this._size=0,function(t,e,n){if(window.navigator&&window.navigator.sendBeacon)window.navigator.sendBeacon(t,e);else if(window.fetch)window.fetch(t,{body:e,method:"POST",keepalive:!0,mode:"no-cors"}).then(n,n);else{const r=new XMLHttpRequest;r.open("POST",t,!0),r.addEventListener("loadend",n),r.send(e)}}(t,e,()=>{this._flushing=!1})}_traceMeta(){const t={"_dd.source":"browser"};return function(t,e,n){if(!n)return;t[e]=n}(t,"env",this._env),t}}},function(t,e,n){"use strict";t.exports=class{constructor(t){this._instrumenter=t}reload(t){t.forEach((t,e)=>{this._instrumenter.unload(e),this._instrumenter.load(e,t)})}load(t,e){const n=window[t.name],r=this._instrumenter.patch(t,n,e);window[t.name]=r||n}}},function(t,e,n){"use strict";const r=n(837),i=window.Zone;let o=null;t.exports=class extends r{constructor(){if(o)return o;super(),o=this}_active(){return i?i.current.get("_datadog_span"):null}_activate(t,e){if(!i)return e();const n={properties:{_datadog_span:t}};return i.current.fork(n).run(()=>e())}}},function(t,e,n){"use strict";const r=n(1310);t.exports=t=>r.create(t)},function(t,e,n){t.exports=n(1311)},function(t,e,n){"use strict";var r=n(334),i=n(1038),o=n(1312),s=n(1044);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(n(1041));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=n(1045),u.CancelToken=n(1325),u.isCancel=n(1040),u.all=function(t){return Promise.all(t)},u.spread=n(1326),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(334),i=n(1039),o=n(1313),s=n(1314),a=n(1044);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(334);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(334),i=n(1315),o=n(1040),s=n(1041);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(334);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(334);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(1043);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(1320),i=n(1321);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(334),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(334);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(334);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(1045);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports={SERVER:"server",CLIENT:"client",PRODUCER:"producer",CONSUMER:"consumer"}},function(t,e,n){"use strict";t.exports={HTTP:"http",WEB:"web"}},function(t,e,n){"use strict";t.exports={LOG:"log",BROWSER:"browser",AGENT:"agent"}},function(t,e,n){"use strict";const r=n(333).Tracer,i=n(1331),o=n(1333),s=n(1347),a=n(1349),u=n(419),c=n(567),{setStartupLogInstrumenter:f}=u.startupLog,p=n(1351),l=new i;t.exports=class extends r{constructor(){super(),this._tracer=l,this._instrumenter=new a(this),this._deprecate=t=>c.deprecate(`tracer.${t}`,[`tracer.${t}() is deprecated.`,"Please use tracer.startSpan() and tracer.scope() instead.","See: https://datadog.github.io/dd-trace-js/#manual-instrumentation."].join(" "))}init(t){if(this._tracer===l)try{const e=new s(t);c.use(e.logger),c.toggle(e.debug,e.logLevel),u.configure(e),u.profiler().start(),e.enabled&&(u.validate(),e.runtimeMetrics&&u.metrics().start(),e.analytics&&p.enable(),this._tracer=new o(e),this._instrumenter.enable(e),f(this._instrumenter))}catch(t){c.error(t)}return this}use(){return this._instrumenter.use.apply(this._instrumenter,arguments),this}trace(t,e,n){if(n||(n=e,e={}),"function"==typeof n)return e=e||{},this._tracer.trace(t,e,n)}wrap(t,e,n){return n||(n=e,e={}),"function"!=typeof n?n:(e=e||{},this._tracer.wrap(t,e,n))}startSpan(){return this._tracer.startSpan.apply(this._tracer,arguments)}inject(){return this._tracer.inject.apply(this._tracer,arguments)}extract(){return this._tracer.extract.apply(this._tracer,arguments)}scopeManager(){return this._deprecate("scopeManager"),this._tracer.scopeManager.apply(this._tracer,arguments)}scope(){return this._tracer.scope.apply(this._tracer,arguments)}currentSpan(){return this._deprecate("currentSpan"),this._tracer.currentSpan.apply(this._tracer,arguments)}bind(t){return this._deprecate("bind"),t}bindEmitter(){this._deprecate("bindEmitter")}getRumData(){if(!this._tracer._config.experimental.enableGetRumData)return"";return`<meta name="dd-trace-id" content="${this.scope().active().context()._traceId}" /><meta name="dd-trace-time" content="${Date.now()}" />`}}},function(t,e,n){"use strict";const r=n(333).Tracer,i=n(837),o=n(1049),s=n(419);t.exports=class extends r{constructor(t){let e;super(t),e="false"===s.env("DD_CONTEXT_PROPAGATION")?n(838):n(1051),this._scopeManager=new e,this._scope=new i(t),this._span=new o(this)}trace(t,e,n){return n(this._span,()=>{})}wrap(t,e,n){return n}scopeManager(){return this._scopeManager}scope(){return this._scope}currentSpan(){return null}_startSpan(t,e){return this._span}}},function(t,e,n){"use strict";t.exports=class{constructor(t,e){this._span=t,this._finishSpanOnClose=e,this.close()}span(){return this._span}close(){this._finishSpanOnClose&&this._span.finish()}}},function(t,e,n){"use strict";const r=n(1334),i=n(777),o=n(1056),s=n(419),{setStartupLogConfig:a}=s.startupLog,u=i.SPAN_TYPE,c=i.RESOURCE_NAME,f=i.SERVICE_NAME,p=i.ANALYTICS,l=o.NOOP;function d(t,e){e&&e instanceof Error&&t.addTags({"error.type":e.name,"error.msg":e.message,"error.stack":e.stack})}t.exports=class extends r{constructor(t){super(t),this._scopeManager=function(t){let e;e=t.scope===l?n(838):n(1051);return new e}(t),this._scope=function(t){let e;e=t.scope===l?n(837):s.getScope(t.scope);return new e(t)}(t),a(t)}trace(t,e,n){if(!(e=Object.assign({},{childOf:this.scope().active()},e)).childOf&&!1===e.orphanable)return n(null,()=>{});const r=this.startSpan(t,e);!function(t,e){const n={};e.type&&(n[u]=e.type);e.service&&(n[f]=e.service);e.resource&&(n[c]=e.resource);n[p]=e.analytics,t.addTags(n)}(r,e);try{if(n.length>1)return this.scope().activate(r,()=>n(r,t=>{d(r,t),r.finish()}));const t=this.scope().activate(r,()=>n(r));return t&&"function"==typeof t.then?t.then(()=>r.finish(),t=>{d(r,t),r.finish()}):r.finish(),t}catch(t){throw d(r,t),r.finish(),t}}wrap(t,e,n){const r=this;return function(){if("function"==typeof e&&"function"==typeof n&&(e=e.apply(this,arguments)),!1===e.orphanable&&!r.scope().active())return n.apply(this,arguments);const i=arguments.length-1,o=arguments[i];if("function"==typeof o){const s=r.scope().bind(o);return r.trace(t,e,(t,e)=>(arguments[i]=function(t){return e(t),s.apply(this,arguments)},n.apply(this,arguments)))}return r.trace(t,e,()=>n.apply(this,arguments))}}scopeManager(){return this._scopeManager}scope(){return this._scope}currentSpan(){return this.scope().active()}}},function(t,e,n){"use strict";const r=n(333),i=r.Tracer,o=r.Reference,s=n(1335),a=n(679),u=n(1336),c=n(1053),f=n(1338),p=n(1055),l=n(1344),d=n(1345),h=n(1346),v=n(1049),g=n(1047),m=n(567),_=n(619),y=n(419),E=_.REFERENCE_NOOP,T=r.REFERENCE_CHILD_OF,b=r.REFERENCE_FOLLOWS_FROM;t.exports=class extends i{constructor(t){super();const e=y.exporter(t.experimental.exporter);this._service=t.service,this._version=t.version,this._env=t.env,this._tags=t.tags,this._logInjection=t.logInjection,this._analytics=t.analytics,this._prioritySampler=new f(t.env,t.experimental.sampler),this._exporter=new e(t,this._prioritySampler),this._processor=new u(this._exporter,this._prioritySampler),this._url=this._exporter._url,this._sampler=new c(t.sampleRate),this._peers=t.experimental.peers,this._propagators={[g.TEXT_MAP]:new p(t),[g.HTTP_HEADERS]:new l(t),[g.BINARY]:new d(t),[g.LOG]:new h(t)},t.reportHostname&&(this._hostname=y.hostname())}_startSpan(t,e){const n=function(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n],i=r.type();if(i===T||i===E){e=r;break}i===b&&(e||(e=r))}return e}(function(t){return t?t.filter(t=>{if(!(t instanceof o))return m.error(()=>`Expected ${t} to be an instance of opentracing.Reference`),!1;const e=t.referencedContext();return t.type()===E||!e||e instanceof a||(m.error(()=>`Expected ${e} to be an instance of SpanContext`),!1)}):[]}(e.references)),r=n&&n.type(),i=n&&n.referencedContext();if(i&&i._noop)return i._noop;if(!function(t,e,n){return n!==E&&(!(e&&!e._traceFlags.sampled)&&!(!e&&!t.isSampled()))}(this._sampler,i,r))return new v(this,i);const u={"service.name":this._service},c=new s(this,this._processor,this._sampler,this._prioritySampler,{operationName:e.operationName||t,parent:i,tags:u,startTime:e.startTime,hostname:this._hostname});return c.addTags(this._tags),c.addTags(e.tags),c.addTags(y.tags()),c}_inject(t,e,n){try{this._prioritySampler.sample(t),this._propagators[e].inject(t,n)}catch(t){m.error(t),y.metrics().increment("datadog.tracer.node.inject.errors",!0)}return this}_extract(t,e){try{return this._propagators[t].extract(e)}catch(t){return m.error(t),y.metrics().increment("datadog.tracer.node.extract.errors",!0),null}}}},function(t,e,n){"use strict";const r=n(333).Span,i=n(679),o=n(419),s=n(619),a=n(620),u=n(1052),c=s.SAMPLE_RATE_METRIC_KEY;t.exports=class extends r{constructor(t,e,n,r,i){super();const s=i.operationName,a=i.parent||null,u=Object.assign({[c]:n.rate()},i.tags),f=i.hostname;this._parentTracer=t,this._sampler=n,this._processor=e,this._prioritySampler=r,this._spanContext=this._createContext(a),this._spanContext._name=s,this._spanContext._tags=u,this._spanContext._hostname=f,this._startTime=i.startTime||this._getTime(),this._handle=o.metrics().track(this)}toString(){const t=this.context(),e=t._tags["resource.name"],n=e.length>100?`${e.substring(0,97)}...`:e;return`Span${JSON.stringify({traceId:t._traceId,spanId:t._spanId,parentId:t._parentId,service:t._tags["service.name"],name:t._name,resource:n})}`}_createContext(t){let e;if(t)e=new i({traceId:t._traceId,spanId:a(),parentId:t._spanId,sampling:t._sampling,baggageItems:Object.assign({},t._baggageItems),trace:t._trace});else{const t=a();e=new i({traceId:t,spanId:t})}return e._trace.started.push(this),e._trace.startTime=e._trace.startTime||Date.now(),e._trace.ticks=e._trace.ticks||o.now(),e}_getTime(){const{startTime:t,ticks:e}=this._spanContext._trace;return t+o.now()-e}_context(){return this._spanContext}_tracer(){return this._parentTracer}_setOperationName(t){this._spanContext._name=t}_setBaggageItem(t,e){this._spanContext._baggageItems[t]=e}_getBaggageItem(t){return this._spanContext._baggageItems[t]}_addTags(t){u.add(this._spanContext._tags,t)}_finish(t){void 0===this._duration&&(t=parseFloat(t)||this._getTime(),this._duration=t-this._startTime,this._spanContext._trace.finished.push(this),this._spanContext._isFinished=!0,this._handle.finish(),this._processor.process(this))}}},function(t,e,n){const r=n(567),i=n(1337);t.exports=class{constructor(t,e){this._exporter=t,this._prioritySampler=e}process(t){const e=t.context(),n=e._trace;if(n.started.length===n.finished.length){if(this._prioritySampler.sample(e),!1===e._traceFlags.sampled)return r.debug(()=>`Dropping trace due to user configured filtering: ${n}`),void this._erase(n);const t=n.finished.map(i);this._exporter.export(t),this._erase(n)}}_erase(t){t.finished.forEach(t=>{t.context()._tags={}}),t.started=[],t.finished=[]}}},function(t,e,n){"use strict";const r=n(619),i=n(777),o=n(567),s=n(620),a=r.SAMPLING_PRIORITY_KEY,u=r.ANALYTICS_KEY,c=i.ANALYTICS,f=i.MEASURED,p=r.ORIGIN_KEY,l=r.HOSTNAME_KEY,d={"service.name":"service","span.type":"type","resource.name":"resource"};function h(t,e,n,r,i){switch(typeof r){case"string":t[n]=r;break;case"number":if(isNaN(r))break;e[n]=r;break;case"undefined":break;case"object":if(null===r)break;if((o=r).constructor&&"Buffer"===o.constructor.name&&"function"==typeof o.readInt8&&"function"==typeof o.toString||function(t){return t.constructor&&"URL"===t.constructor.name&&"string"==typeof t.href&&"function"==typeof t.toString}(r)){e[n]=r.toString();break}if(!Array.isArray(r)){!function(t,e,n,r,i){if(~(i=i||[]).indexOf(r))return void(t[n]="[Circular]");i.push(r);for(const o in r)h(t,e,`${n}.${o}`,r[o],i);i.pop()}(t,e,n,r,i);break}default:h(t,e,n,v(r))}var o}function v(t){try{return t&&"function"!=typeof t.toString?JSON.stringify(t):String(t)}catch(t){o.error(t)}}t.exports=function(t){const e=function(t){const e=t.context();return{trace_id:e._traceId,span_id:e._spanId,parent_id:e._parentId||s("0"),name:v(e._name),resource:v(e._name),error:0,meta:{},metrics:{},start:Math.round(1e6*t._startTime),duration:Math.round(1e6*t._duration)}}(t);return function(t,e){const n=e.context()._tags.error;n instanceof Error&&(t.meta["error.msg"]=n.message,t.meta["error.type"]=n.name,t.meta["error.stack"]=n.stack)}(e,t),function(t,e){const n=e.context(),r=n._trace.origin,i=n._tags,o=n._hostname,s=n._sampling.priority;for(const e in i)switch(e){case"service.name":case"span.type":case"resource.name":h(t,{},d[e],i[e]);break;case"http.status_code":h(t.meta,{},e,i[e]&&String(i[e]));break;case l:case c:break;case f:h({},t.metrics,e,void 0===i[e]||i[e]?1:0);break;case"error":i[e]&&"internal"!==i["span.kind"]&&(t.error=1);break;case"error.type":case"error.msg":case"error.stack":"internal"!==i["span.kind"]&&(t.error=1);default:h(t.meta,t.metrics,e,i[e])}e.tracer()._service===i["service.name"]&&h(t.meta,t.metrics,"language","javascript");h(t.meta,t.metrics,a,s),h(t.meta,t.metrics,p,r),h(t.meta,t.metrics,l,o)}(e,t),function(t,e){let n=e.context()._tags[c];n=!0===n?1:parseFloat(n);isNaN(n)||(t.metrics[u]=Math.max(Math.min(n,1),0))}(e,t),e}},function(t,e,n){"use strict";const r=n(1339),i=n(1053),o=n(1046),{setSamplingRules:s}=n(419).startupLog,{SAMPLING_RULE_DECISION:a,SAMPLING_LIMIT_DECISION:u,SAMPLING_AGENT_DECISION:c}=n(619),f=o.tags.SERVICE_NAME,p=o.tags.SAMPLING_PRIORITY,l=o.tags.MANUAL_KEEP,d=o.tags.MANUAL_DROP,h=o.priority.USER_REJECT,v=o.priority.AUTO_REJECT,g=o.priority.AUTO_KEEP,m=o.priority.USER_KEEP,_="service:,env:";t.exports=class{constructor(t,{sampleRate:e,rateLimit:n=100,rules:i=[]}={}){this._env=t,this._rules=this._normalizeRules(i,e),this._limiter=new r(n),s(this._rules),this.update({})}isSampled(t){const e=this._getContext(t),n=this._findRule(e);return n?this._isSampledByRule(e,n)&&this._isSampledByRateLimit(e):this._isSampledByAgent(e)}sample(t){if(!t)return;const e=this._getContext(t);if(void 0!==e._sampling.priority)return;const n=this._getPriority(e._tags);this.validate(n)?e._sampling.priority=n:e._sampling.priority=this.isSampled(t)?g:v}update(t){const e={};for(const n in t){const r=t[n],o=new i(r);e[n]=o}e[_]=e[_]||new i(g),this._samplers=e}validate(t){switch(t){case h:case m:case v:case g:return!0;default:return!1}}_getContext(t){return"function"==typeof t.context?t.context():t}_getPriority(t){if(t.hasOwnProperty(l)&&!1!==t[l])return m;if(t.hasOwnProperty(d)&&!1!==t[d])return h;{const e=parseInt(t[p],10);if(1===e||2===e)return m;if(0===e||-1===e)return h}}_isSampledByRule(t,e){return t._tags[a]=e.sampleRate,e.sampler.isSampled(t)}_isSampledByRateLimit(t){const e=this._limiter.isAllowed();return t._tags[u]=this._limiter.effectiveRate(),e}_isSampledByAgent(t){const e=`service:${t._tags[f]},env:${this._env}`,n=this._samplers[e]||this._samplers[_];return t._tags[c]=n.rate(),n.isSampled(t)}_normalizeRules(t,e){return t.concat({sampleRate:e}).map(t=>({...t,sampleRate:parseFloat(t.sampleRate)})).filter(t=>!isNaN(t.sampleRate)).map(t=>({...t,sampler:new i(t.sampleRate)}))}_findRule(t){for(let e=0,n=this._rules.length;e<n;e++)if(this._matchRule(t,this._rules[e]))return this._rules[e]}_matchRule(t,e){const n=t._name,r=t._tags["service.name"];return!(e.name instanceof RegExp&&!e.name.test(n))&&((!e.name||e.name===n)&&(!(e.service instanceof RegExp&&!e.service.test(r))&&(!e.service||e.service===r)))}}},function(t,e,n){"use strict";const r=n(1340);t.exports=class{constructor(t){this._rateLimit=parseInt(t),this._limiter=new r.RateLimiter(this._rateLimit,"second"),this._tokensRequested=0,this._prevWindowRate=null}isAllowed(){const t=this._limiter.curIntervalStart,e=this._isAllowed();return t!==this._limiter.curIntervalStart&&(this._prevWindowRate=this._currentWindowRate(),this._tokensRequested=0),this._tokensRequested++,e}effectiveRate(){const t=this._currentWindowRate();return null===this._prevWindowRate?t:(t+this._prevWindowRate)/2}_isAllowed(){return this._rateLimit<0||0!==this._rateLimit&&this._limiter.tryRemoveTokens(1)}_currentWindowRate(){return this._rateLimit<0?1:0===this._rateLimit?0:0===this._tokensRequested?1:this._limiter.tokensThisInterval/this._tokensRequested}}},function(t,e,n){e.RateLimiter=n(1341),e.TokenBucket=n(1054)},function(t,e,n){(function(e){var r=n(1054),i=n(1342),o=function(t,e,n){this.tokenBucket=new r(t,t,e,null),this.tokenBucket.content=t,this.curIntervalStart=i(),this.tokensThisInterval=0,this.fireImmediately=n};o.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(t,n){if(t>this.tokenBucket.bucketSize)return e.nextTick(n.bind(null,"Requested tokens "+t+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,o=i();if((o<this.curIntervalStart||o-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=o,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)e.nextTick(n.bind(null,null,-1));else{var s=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-o);setTimeout((function(){r.tokenBucket.removeTokens(t,a)}),s)}return!1}return this.tokenBucket.removeTokens(t,a);function a(e,i){if(e)return n(e,null);r.tokensThisInterval+=t,n(null,i)}},tryRemoveTokens:function(t){if(t>this.tokenBucket.bucketSize)return!1;var e=i();if((e<this.curIntervalStart||e-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=e,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var n=this.tokenBucket.tryRemoveTokens(t);return n&&(this.tokensThisInterval+=t),n},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},t.exports=o}).call(this,n(196))},function(t,e,n){(function(e){t.exports=function(){if(void 0!==e&&e.hrtime){var t=e.hrtime(),n=t[0],r=t[1];return 1e3*n+Math.floor(r/1e6)}return(new Date).getTime()}}).call(this,n(196))},function(t,e,n){(function(e){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function("return this")();function p(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var d=Object.prototype,h=d.hasOwnProperty,v=d.toString,g=f.Symbol,m=d.propertyIsEnumerable,_=g?g.isConcatSpreadable:void 0,y=Math.max;function E(t){return b(t)||function(t){return function(t){return x(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?v.call(t):"";return e==o||e==s}(t)}(t)}(t)&&h.call(t,"callee")&&(!m.call(t,"callee")||v.call(t)==i)}(t)||!!(_&&t&&t[_])}function T(t){if("string"==typeof t||function(t){return"symbol"==typeof t||x(t)&&v.call(t)==a}(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}var b=Array.isArray;function x(t){return!!t&&"object"==typeof t}var w,S,O=(w=function(t,e){return null==t?{}:function(t,e){return function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}(t=Object(t),e,(function(e,n){return n in t}))}(t,function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(function t(e,n,r,i,o){var s=-1,a=e.length;for(r||(r=E),o||(o=[]);++s<a;){var u=e[s];n>0&&r(u)?n>1?t(u,n-1,r,i,o):l(o,u):i||(o[o.length]=u)}return o}(e,1),T))},S=y(void 0===S?w.length-1:S,0),function(){for(var t=arguments,e=-1,n=y(t.length-S,0),r=Array(n);++e<n;)r[e]=t[S+e];e=-1;for(var i=Array(S+1);++e<S;)i[e]=t[e];return i[S]=r,p(w,this,i)});t.exports=O}).call(this,n(63))},function(t,e,n){"use strict";const r=n(1055);t.exports=class extends r{}},function(t,e,n){"use strict";t.exports=class{inject(t,e){}extract(t){return null}}},function(t,e,n){"use strict";const r=n(620),i=n(679);t.exports=class{constructor(t){this._config=t}inject(t,e){e&&(e.dd={},t&&(e.dd.trace_id=t.toTraceId(),e.dd.span_id=t.toSpanId()),this._config.service&&(e.dd.service=this._config.service),this._config.version&&(e.dd.version=this._config.version),this._config.env&&(e.dd.env=this._config.env))}extract(t){if(!(t&&t.dd&&t.dd.trace_id&&t.dd.span_id))return null;return new i({traceId:r(t.dd.trace_id,10),spanId:r(t.dd.span_id,10)})}}},function(t,e,n){"use strict";const r=n(776),i=n(419),o=n(1348),s=n(1056),a=n(1052),u=n(620),{isTrue:c,isFalse:f}=n(1057),p=`${u().toString()}${u().toString()}`;t.exports=class{constructor(t){t=t||{},this.tags={},a.add(this.tags,i.env("DD_TAGS")),a.add(this.tags,i.env("DD_TRACE_TAGS")),a.add(this.tags,i.env("DD_TRACE_GLOBAL_TAGS")),a.add(this.tags,t.tags);const e=o(t.analytics,i.env("DD_TRACE_ANALYTICS_ENABLED"),i.env("DD_TRACE_ANALYTICS"),!1),n=o(!1),u=o(i.env("DD_PROFILING_EXPORTERS"),"agent"),l=i.env("DD_PROFILING_SOURCE_MAP"),d=o(t.logInjection,i.env("DD_LOGS_INJECTION"),!1),h=o(t.runtimeMetrics,i.env("DD_RUNTIME_METRICS_ENABLED"),!1),v=o(t.hostname,i.env("DD_AGENT_HOST"),i.env("DD_TRACE_AGENT_HOSTNAME"),"127.0.0.1"),g=o(t.port,i.env("DD_TRACE_AGENT_PORT"),"8126"),m=o(t.url,i.env("DD_TRACE_AGENT_URL"),i.env("DD_TRACE_URL"),null),_=t.service||i.env("DD_SERVICE")||i.env("DD_SERVICE_NAME")||this.tags.service||i.service()||"node",y=o(t.env,i.env("DD_ENV"),this.tags.env),E=o(t.version,i.env("DD_VERSION"),this.tags.version,i.appVersion()),T=o(t.startupLogs,i.env("DD_TRACE_STARTUP_LOGS"),!0),b=o(t.enabled,i.env("DD_TRACE_ENABLED"),!0),x=o(t.debug,i.env("DD_TRACE_DEBUG"),!1),w=o(i.env("DD_TRACE_AGENT_PROTOCOL_VERSION"),null),S=t.experimental&&t.experimental.sampler||{},O=o(t.dogstatsd,{});Object.assign(S,{sampleRate:o(S.sampleRate,i.env("DD_TRACE_SAMPLE_RATE")),rateLimit:o(S.rateLimit,i.env("DD_TRACE_RATE_LIMIT"))}),this.enabled=c(b),this.debug=c(x),this.logInjection=c(d),this.env=y,this.url=m&&new r(m),this.site=o(t.site,i.env("DD_SITE"),"datadoghq.com"),this.hostname=v||this.url&&this.url.hostname,this.port=String(g||this.url&&this.url.port),this.flushInterval=o(parseInt(t.flushInterval,10),2e3),this.sampleRate=o(Math.min(Math.max(t.sampleRate,0),1),1),this.logger=t.logger,this.plugins=!!o(t.plugins,!0),this.service=_,this.version=E,this.analytics=c(e),this.dogstatsd={hostname:o(O.hostname,i.env("DD_DOGSTATSD_HOSTNAME"),this.hostname),port:String(o(O.port,i.env("DD_DOGSTATSD_PORT"),8125))},this.runtimeMetrics=c(h),this.trackAsyncScope=!1!==t.trackAsyncScope,this.experimental={b3:!(!t.experimental||!t.experimental.b3),runtimeId:!(!t.experimental||!t.experimental.runtimeId),exporter:t.experimental&&t.experimental.exporter,peers:t.experimental&&t.experimental.distributedTracingOriginWhitelist||[],enableGetRumData:t.experimental&&!!t.experimental.enableGetRumData,sampler:S},this.reportHostname=c(o(t.reportHostname,i.env("DD_TRACE_REPORT_HOSTNAME"),!1)),this.scope=f(i.env("DD_CONTEXT_PROPAGATION"))?s.NOOP:o(t.scope,i.env("DD_TRACE_SCOPE")),this.clientToken=o(t.clientToken,i.env("DD_CLIENT_TOKEN")),this.logLevel=o(t.logLevel,i.env("DD_TRACE_LOG_LEVEL"),"debug"),this.profiling={enabled:c(n),sourceMap:!f(l),exporters:u},this.lookup=t.lookup,this.startupLogs=c(T),this.protocolVersion=w,a.add(this.tags,{service:this.service,env:this.env,version:this.version}),this.experimental.runtimeId&&a.add(this.tags,{"runtime-id":p})}}},function(t,e,n){"use strict";t.exports=function(){for(var t,e,n=arguments.length,r=0;r<n;r++)if(t=arguments[r],null!=(e=t)&&e==e)return t;return t}},function(t,e,n){"use strict";const r=n(1350),i=n(567),o=n(419),{isTrue:s,isFalse:a}=n(1057);r({logger:()=>{}});const u=o.plugins,c=o.env("DD_TRACE_DISABLED_PLUGINS"),f=()=>new Set(c&&c.split(",").map(t=>t.trim()));function p(t){return o.env(`DD_TRACE_${t.toUpperCase()}`.replace(/[^a-z0-9_]/gi,"_"))}function l(t,e={}){if(!t)return e;const n=p(`${t}_ENABLED`);void 0!==n&&(e.enabled=s(n));const r=p(`${t}_ANALYTICS_ENABLED`),i=Math.min(Math.max(p(`${t}_ANALYTICS_SAMPLE_RATE`),0),1);return a(r)?e.analytics=!1:Number.isNaN(i)?s(r)&&(e.analytics=!0):e.analytics=i,e}t.exports=class{constructor(t){this._tracer=t,this._loader=new o.Loader(this),this._enabled=!1,this._names=new Set,this._plugins=new Map,this._instrumented=new Map,this._disabledPlugins=f()}use(t,e){"boolean"==typeof e&&(e={enabled:e}),e=l(t,e);try{this._set(u[t.toLowerCase()],{name:t,config:e})}catch(e){i.debug(`Could not find a plugin named "${t}".`)}this._enabled&&this._loader.reload(this._plugins)}enable(t){t=t||{},this._enabled=!0,!1!==t.plugins&&Object.keys(u).filter(t=>!this._plugins.has(u[t])).forEach(t=>{this._set(u[t],{name:t,config:l(t)})}),this._loader.reload(this._plugins)}disable(){for(const t of this._instrumented.keys())this.unpatch(t);this._plugins.clear(),this._enabled=!1,this._loader.reload(this._plugins)}wrap(t,e,n){t=[].concat(t),e=[].concat(e),t.forEach(t=>{e.forEach(e=>{if("function"!=typeof t[e])throw new Error(`Expected object ${t} to contain method ${e}.`);Object.defineProperty(t[e],"_datadog_patched",{value:!0,configurable:!0})})}),r.massWrap.call(this,t,e,n)}unwrap(t,e,n){t=[].concat(t),e=[].concat(e),r.massUnwrap.call(this,t,e,n),t.forEach(t=>{e.forEach(e=>{t[e]&&delete t[e]._datadog_patched})})}wrapExport(t,e){if("function"!=typeof t)return t;const n=Object.keys(t),r=function(){return t._datadog_wrapper.apply(this,arguments)};for(const e of n)r[e]=t[e];return t._datadog_wrapper=e,r}unwrapExport(t){return t&&t._datadog_wrapper&&(t._datadog_wrapper=t),t}load(t,e){if(!this._enabled)return;const n=[].concat(t),r=!1!==e.config.enabled;o.metrics().boolean("datadog.tracer.node.plugin.enabled.by.name",r,`name:${e.name}`);try{n.forEach(t=>{this._loader.load(t,e.config)})}catch(n){i.error(n),this.unload(t),i.debug(`Error while trying to patch ${e.name}. The plugin has been disabled.`),o.metrics().increment("datadog.tracer.node.plugin.errors",!0)}}unload(t){[].concat(t).forEach(t=>{this.unpatch(t),this._instrumented.delete(t)});const e=this._plugins.get(t);e&&(this._plugins.delete(t),o.metrics().boolean("datadog.tracer.node.plugin.enabled.by.name",!1,`name:${e.name}`))}patch(t,e,n){let r=this._instrumented.get(t);if(r||this._instrumented.set(t,r=new Set),!r.has(e))return r.add(e),t.patch.call(this,e,this._tracer._tracer,n)}unpatch(t){const e=this._instrumented.get(t);e&&e.forEach(e=>{try{t.unpatch.call(this,e,this._tracer)}catch(t){i.error(t)}})}_set(t,e){this._disabledPlugins.has(e.name)?i.debug(`Plugin "${e.name}" was disabled via configuration option.`):(this._plugins.set(t,e),this.load(t,e))}}},function(t,e,n){"use strict";function r(t){return"function"==typeof t}var i=console.error.bind(console);function o(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function s(t){t&&t.logger&&(r(t.logger)?i=t.logger:i("new logger isn't a function, not replacing"))}function a(t,e,n){if(t&&t[e]){if(!n)return i("no wrapper function"),void i((new Error).stack);if(r(t[e])&&r(n)){var s=t[e],a=n(s,e);return o(a,"__original",s),o(a,"__unwrap",(function(){t[e]===a&&o(t,e,s)})),o(a,"__wrapped",!0),o(t,e,a),a}i("original object and wrapper must be functions")}else i("no original function "+e+" to wrap")}function u(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void i("no original to unwrap to -- has "+e+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}s.wrap=a,s.massWrap=function(t,e,n){if(!t)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){a(t,e,n)}))})):i("must provide one or more functions to wrap on modules")},s.unwrap=u,s.massUnwrap=function(t,e){if(!t)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){u(t,e)}))})):i("must provide one or more functions to unwrap on modules")},t.exports=s},function(t,e,n){"use strict";const r=n(777).ANALYTICS;let i=!1;t.exports={enable(){i=!0},disable(){i=!1},sample(t,e,n){"object"==typeof e?this.sample(t,e[t.context()._name],n):void 0!==e?t.setTag(r,e):n&&i&&t.setTag(r,1)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(1075),i=n.n(r);var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var f,p,l,d=1e3,h=60*d,v=60*h;function g(t,e,n){var r,i=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing,s=!1,a=!1;return{throttled:function(){var n=this;s?a=!0:(i?t.apply(this):a=!0,s=!0,r=window.setTimeout((function(){o&&a&&t.apply(n),s=!1,a=!1}),e))},cancel:function(){window.clearTimeout(r),s=!1,a=!1}}}!function(t){t.BEFORE_UNLOAD="beforeunload",t.CLICK="click",t.KEY_DOWN="keydown",t.LOAD="load",t.POP_STATE="popstate",t.SCROLL="scroll",t.TOUCH_START="touchstart",t.VISIBILITY_CHANGE="visibilitychange",t.DOM_CONTENT_LOADED="DOMContentLoaded"}(f||(f={})),function(t){t.DOCUMENT="document",t.XHR="xhr",t.BEACON="beacon",t.FETCH="fetch",t.CSS="css",t.JS="js",t.IMAGE="image",t.FONT="font",t.MEDIA="media",t.OTHER="other"}(p||(p={})),function(t){t.FETCH="fetch",t.XHR="xhr"}(l||(l={}));var m,_=function(t){return Array.isArray(t)},y=function(t){return!Array.isArray(t)&&"object"==typeof t};function E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(t,e){return _(t)&&_(e)?c(Array(Math.max(t.length,e.length))).map((function(n,r){return E(t[r],e[r])})):y(t)&&y(e)?Object.keys(e).reduce((function(n,r){var i;return s(s({},n),((i={})[r]=E(t[r],e[r]),i))}),t):void 0===e?t:e}),t)}function T(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return E.apply(void 0,c([t],e))}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))}function x(t){return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,x)}function w(t){return 0!==t&&100*Math.random()<=t}function S(t){return"number"!=typeof t?t:+(1e6*t).toFixed(0)}function O(t){var e={};return Object.keys(t).forEach((function(n){var r;e[(r=n,r.replace(/[A-Z]/g,(function(t,e){return(0!==e?"_":"")+t.toLowerCase()})).replace(/-/g,"_"))]=function t(e){if(Array.isArray(e))return e.map((function(e){return t(e)}));if("object"==typeof e)return O(e);return e}(t[n])})),e}function A(){}function R(t,e,n){if(null==t)return JSON.stringify(t);var r=[!1,void 0];I(t)&&(r=[!0,t.toJSON],delete t.toJSON);var i,o,s=[!1,void 0];"object"==typeof t&&I(i=Object.getPrototypeOf(t))&&(s=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(t,void 0,n)}catch(t){o="<error: unable to serialize object>"}finally{r[0]&&(t.toJSON=r[1]),s[0]&&(i.toJSON=s[1])}return o}function I(t){return"object"==typeof t&&null!==t&&t.hasOwnProperty("toJSON")}function C(t,e){return-1!==t.indexOf(e)}function L(t){return k(t)&&t>=0&&t<=100}function k(t){return"number"==typeof t}function N(t){return Math.floor(D()+t)}function D(){return void 0===m&&(m=performance.timing.navigationStart),m}function M(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function P(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return t.protocol+"//"+e}function j(t,e){var n=t.match("(?:^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return n?n[1]:void 0}var U,B=d;function F(t,e,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=t+"="+e+";"+o+";path=/;samesite="+s+a+u}function H(t){return j(document.cookie,t)}function G(t){return V(t,P(window.location)).href}function q(t,e){return z(t)===z(e)}function z(t){return P(V(t))}function W(t){var e=V(t).pathname;return"/"===e[0]?e:"/"+e}function V(t,e){if(function(){if(void 0!==U)return U;try{var t=new URL("http://test/path");return U="http://test/path"===t.href}catch(t){U=!1}return U}())return void 0!==e?new URL(t,e):new URL(t);if(void 0===e&&!/:/.test(t))throw new Error("Invalid URL: '"+t+"'");var n=document,r=n.createElement("a");if(void 0!==e){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=e,n.head.appendChild(i),n.body.appendChild(r)}return r.href=t,r}var Y={allowedTracingOrigins:[],isCollectingError:!0,maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,requestErrorResponseLengthLimit:32768,flushTimeout:30*d,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function $(t,e){var n={applicationId:t.applicationId,buildMode:e.buildMode,clientToken:t.clientToken,env:t.env,proxyHost:t.proxyHost,sdkVersion:e.sdkVersion,service:t.service,site:t.site||Ht[t.datacenter||e.datacenter],version:t.version},r=Array.isArray(t.enableExperimentalFeatures)?t.enableExperimentalFeatures:[],i=s({cookieOptions:{},isEnabled:function(t){return C(r,t)},logsEndpoint:K("browser",n),proxyHost:t.proxyHost,rumEndpoint:K("rum",n),service:t.service,traceEndpoint:K("public-trace",n)},Y);if(t.internalMonitoringApiKey&&(i.internalMonitoringEndpoint=K("browser",n,"browser-agent-internal-monitoring")),"allowedTracingOrigins"in t&&(i.allowedTracingOrigins=t.allowedTracingOrigins),"isCollectingError"in t&&(i.isCollectingError=!!t.isCollectingError),"sampleRate"in t&&(i.sampleRate=t.sampleRate),"resourceSampleRate"in t&&(i.resourceSampleRate=t.resourceSampleRate),"trackInteractions"in t&&(i.trackInteractions=!!t.trackInteractions),i.cookieOptions.secure=J(t),i.cookieOptions.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(i.cookieOptions.domain=function(){for(var t=window.location.hostname.split("."),e=t.pop();t.length&&!H("dd_site_test");)e=t.pop()+"."+e,F("dd_site_test","test",d,{domain:e});return e}()),n.buildMode===Ft.E2E_TEST&&(void 0!==t.internalMonitoringEndpoint&&(i.internalMonitoringEndpoint=t.internalMonitoringEndpoint),void 0!==t.logsEndpoint&&(i.logsEndpoint=t.logsEndpoint),void 0!==t.rumEndpoint&&(i.rumEndpoint=t.rumEndpoint)),n.buildMode===Ft.STAGING&&void 0!==t.replica){var o=s(s({},n),{applicationId:t.replica.applicationId,clientToken:t.replica.clientToken,site:Ht[It.US]});i.replica={applicationId:t.replica.applicationId,internalMonitoringEndpoint:K("browser",o,"browser-agent-internal-monitoring"),logsEndpoint:K("browser",o),rumEndpoint:K("rum",o)}}return i}function K(t,e,n){var r="sdk_version:"+e.sdkVersion+(e.env?",env:"+e.env:"")+(e.service?",service:"+e.service:"")+(e.version?",version:"+e.version:""),i=t+"-http-intake.logs."+e.site,o=e.proxyHost?e.proxyHost:i,s=e.proxyHost?"ddhost="+i+"&":"",a=""+(e.applicationId?"_dd.application_id="+e.applicationId+"&":"")+s+"ddsource="+(n||"browser")+"&ddtags="+r;return"https://"+o+"/v1/input/"+e.clientToken+"?"+a}function X(t,e){return 0===W(t).indexOf("/v1/input/")&&(q(t,e.logsEndpoint)||q(t,e.rumEndpoint)||q(t,e.traceEndpoint)||!!e.internalMonitoringEndpoint&&q(t,e.internalMonitoringEndpoint)||!!e.replica&&(q(t,e.replica.logsEndpoint)||q(t,e.replica.rumEndpoint)||q(t,e.replica.internalMonitoringEndpoint)))}function J(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}var Q="?",Z=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function tt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var et=function(){var t,e,n,r,i,o,s=[];function a(t,e,n){var r;for(var i in s)if(tt(s,i))try{s[i](t,e,n)}catch(t){r=t}if(r)throw r}function u(t,r,i,o,s){if(e)nt.augmentStackTraceWithInitialElement(e,r,i,""+t),f();else if(s)a(nt(s),!0,s);else{var u,c={url:r,column:o,line:i},p=t;if("[object String]"==={}.toString.call(t)){var l=p.match(Z);l&&(u=l[1],p=l[2])}a({name:u,message:p,stack:[c]},!0)}return!!n&&n.apply(this,arguments)}function c(t){var e=t.reason||"Empty reason";a(nt(e),!0,e)}function f(){var n=e,r=t;e=void 0,t=void 0,a(n,!1,r)}function p(n){if(e){if(t===n)return;f()}var r=nt(n);throw e=r,t=n,setTimeout((function(){t===n&&f()}),r.incomplete?2e3:0),n}return p.subscribe=function(t){!function(){if(r)return;n=window.onerror,window.onerror=lt(u),r=!0}(),function(){if(o)return;i=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=lt(c),o=!0}(),s.push(t)},p.unsubscribe=function(t){for(var e=s.length-1;e>=0;e-=1)s[e]===t&&s.splice(e,1);0===s.length&&(r&&(window.onerror=n,r=!1),o&&(window.onunhandledrejection=i,o=!1))},p.traceKitWindowOnError=u,p}(),nt=function(){var t=!1;function e(t){if(t.stack){for(var e,n,r,i,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.stack.split("\n"),p=[],l=0,d=f.length;l<d;l+=1){if(o.exec(f[l])){var h=(r=o.exec(f[l]))[2]&&0===r[2].indexOf("native");e=r[2]&&0===r[2].indexOf("eval"),n=c.exec(r[2]),e&&n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3]),i={args:h?[r[2]]:[],column:r[4]?+r[4]:void 0,func:r[1]||Q,line:r[3]?+r[3]:void 0,url:h?void 0:r[2]}}else if(a.exec(f[l]))i={args:[],column:(r=a.exec(f[l]))[4]?+r[4]:void 0,func:r[1]||Q,line:+r[3],url:r[2]};else{if(!s.exec(f[l]))continue;e=(r=s.exec(f[l]))[3]&&r[3].indexOf(" > eval")>-1,n=u.exec(r[3]),e&&n?(r[3]=n[1],r[4]=n[2],r[5]=void 0):0!==l||r[5]||void 0===t.columnNumber||(p[0].column=t.columnNumber+1),i={args:r[2]?r[2].split(","):[],column:r[5]?+r[5]:void 0,func:r[1]||Q,line:r[4]?+r[4]:void 0,url:r[3]}}!i.func&&i.line&&(i.func=Q),p.push(i)}if(p.length)return{stack:p,message:t.message,name:t.name}}}function n(t,e,n,r){var i={url:e,line:n?+n:void 0};if(i.url&&i.line){t.incomplete=!1;var o=t.stack;if(o.length>0&&o[0].url===i.url){if(o[0].line===i.line)return!1;if(!o[0].line&&o[0].func===i.func)return o[0].line=i.line,o[0].context=i.context,!1}return o.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function r(t,e){for(var i,o,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],u={},c=!1,f=r.caller;f&&!c;f=f.caller)f!==nt&&f!==et&&(o={args:[],column:void 0,func:Q,line:void 0,url:void 0},i=s.exec(f.toString()),f.name?o.func=f.name:i&&(o.func=i[1]),void 0===o.func&&(o.func=i?i.input.substring(0,i.input.indexOf("{")):void 0),u[""+f]?c=!0:u[""+f]=!0,a.push(o));e&&a.splice(0,e);var p={stack:a,message:t.message,name:t.name};return n(p,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),p}function i(n,i){var o,s=void 0===i?0:+i;try{if(o=function(t){var e=t.stacktrace;if(e){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=e.split("\n"),s=[],a=0;a<o.length;a+=2){var u=void 0;r.exec(o[a])?u={args:[],column:void 0,func:(n=r.exec(o[a]))[3],line:+n[1],url:n[2]}:i.exec(o[a])&&(u={args:(n=i.exec(o[a]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),u&&(!u.func&&u.line&&(u.func=Q),u.context=[o[a+1]],s.push(u))}if(s.length)return{stack:s,message:t.message,name:t.name}}}(n))return o}catch(e){if(t)throw e}try{if(o=e(n))return o}catch(e){if(t)throw e}try{if(o=function(t){var e=t.message.split("\n");if(!(e.length<4)){var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,s=[],a=window&&window.document&&window.document.getElementsByTagName("script"),u=[];for(var c in a)tt(a,c)&&!a[c].src&&u.push(a[c]);for(var f=2;f<e.length;f+=2){var p=void 0;if(r.exec(e[f]))p={args:[],column:void 0,func:(n=r.exec(e[f]))[3],line:+n[1],url:n[2]};else if(i.exec(e[f]))p={args:[],column:void 0,func:(n=i.exec(e[f]))[4],line:+n[1],url:n[3]};else if(o.exec(e[f])){n=o.exec(e[f]),p={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+n[1]}}p&&(p.func||(p.func=Q),p.context=[e[f+1]],s.push(p))}if(s.length)return{stack:s,message:e[0],name:t.name}}}(n))return o}catch(e){if(t)throw e}try{if(o=r(n,s+1))return o}catch(e){if(t)throw e}return{message:n.message,name:n.name,stack:[]}}return i.augmentStackTraceWithInitialElement=n,i.computeStackTraceFromStackProp=e,i.ofCaller=function(t){var e=1+(void 0===t?0:+t);try{throw new Error}catch(t){return nt(t,e+1)}},i}();var rt=/[^\u0000-\u007F]/,it=function(){function t(t,e,n){void 0===n&&(n=!1),this.endpointUrl=t,this.bytesLimit=e,this.withBatchTime=n}return t.prototype.send=function(t,e){var n=this.withBatchTime?function(t){return t+(-1===t.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl;if(navigator.sendBeacon&&e<this.bytesLimit&&navigator.sendBeacon(n,t))return;var r=new XMLHttpRequest;r.open("POST",n,!0),r.send(t)},t}();var ot,st=function(){function t(t,e,n,r,i,o){void 0===o&&(o=A),this.request=t,this.maxSize=e,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return t.prototype.add=function(t){this.addOrUpdate(t)},t.prototype.upsert=function(t,e){this.addOrUpdate(t,e)},t.prototype.flush=function(){if(0!==this.bufferMessageCount){var t=c(this.pushOnlyBuffer,(e=this.upsertBuffer,n=[],Object.keys(e).forEach((function(t){n.push(e[t])})),n));this.request.send(t.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var e,n},t.prototype.sizeInBytes=function(t){return rt.test(t)?void 0!==window.TextEncoder?(new TextEncoder).encode(t).length:new Blob([t]).size:t.length},t.prototype.addOrUpdate=function(t,e){var n=this.process(t),r=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(e)&&this.remove(e),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(r,i,e),this.isFull()&&this.flush())},t.prototype.process=function(t){var e=R(t);return{processedMessage:e,messageBytesSize:this.sizeInBytes(e)}},t.prototype.push=function(t,e,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.bufferBytesSize+=e,this.bufferMessageCount+=1},t.prototype.remove=function(t){var e=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.sizeInBytes(e);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},t.prototype.hasMessageFor=function(t){return void 0!==t&&void 0!==this.upsertBuffer[t]},t.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesSize+t+1>=this.bytesLimit},t.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},t.prototype.flushPeriodically=function(){var t=this;setTimeout((function(){t.flush(),t.flushPeriodically()}),this.flushTimeout)},t.prototype.flushOnVisibilityHidden=function(){var t=this;navigator.sendBeacon&&(window.addEventListener(f.BEFORE_UNLOAD,lt(this.beforeUnloadCallback)),document.addEventListener(f.VISIBILITY_CHANGE,lt((function(){"hidden"===document.visibilityState&&t.flush()}))),window.addEventListener(f.BEFORE_UNLOAD,lt((function(){return t.flush()}))))},t}();!function(t){t.info="info",t.error="error"}(ot||(ot={}));var at,ut,ct,ft={maxMessagesPerPage:0,sentMessageCount:0};function pt(t){if(t.internalMonitoringEndpoint){var e=function(t){var e,n=r(t.internalMonitoringEndpoint);void 0!==t.replica&&(e=r(t.replica.internalMonitoringEndpoint));function r(e){return new st(new it(e,t.batchBytesLimit),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout)}return{add:function(t){var r=function(t){return E({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==at?at():{},t)}(t);n.add(r),e&&e.add(r)}}}(t);b(ft,{batch:e,maxMessagesPerPage:t.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(t){at=t}}}function lt(t){return function(){try{return t.apply(this,arguments)}catch(t){mt(t);try{ht(t)}catch(t){mt(t)}}}}function dt(t,e){!function(t){ft.debugMode&&console.log("[MONITORING MESSAGE]",t)}(t),vt(s(s({message:t},e),{status:ot.info}))}function ht(t){vt(s(s({},function(t){if(t instanceof Error){var e=nt(t);return{error:{kind:e.name,stack:Pt(e)},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+R(t)}}(t)),{status:ot.error}))}function vt(t){ft.batch&&ft.sentMessageCount<ft.maxMessagesPerPage&&(ft.sentMessageCount+=1,ft.batch.add(t))}function gt(t){ft.debugMode=t}function mt(t){ft.debugMode&&console.warn("[INTERNAL ERROR]",t)}var _t=[],yt=[];function Et(){return ut||(!function(){if(!window.fetch)return;ct=window.fetch,window.fetch=lt((function(t,e){var n=this,r=e&&e.method||"object"==typeof t&&t.method||"GET",i=G("object"==typeof t&&t.url||t),o={init:e,method:r,startTime:performance.now(),url:i},s=function(t){return a(n,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return o.duration=performance.now()-o.startTime,"stack"in t||t instanceof Error?(o.status=0,o.response=Pt(nt(t)),yt.forEach((function(t){return t(o)})),[3,6]):[3,1];case 1:if(!("status"in t))return[3,6];e=void 0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.clone().text()];case 3:return e=r.sent(),[3,5];case 4:return n=r.sent(),e="Unable to retrieve response: "+n,[3,5];case 5:o.response=e,o.responseType=t.type,o.status=t.status,yt.forEach((function(t){return t(o)})),r.label=6;case 6:return[2]}}))}))};_t.forEach((function(t){return t(o)}));var c=ct.call(this,t,o.init);return c.then(lt(s),lt(s)),c}))}(),ut={beforeSend:function(t){_t.push(t)},onRequestComplete:function(t){yt.push(t)}}),ut}var Tt,bt,xt,wt,St,Ot,At,Rt,It,Ct=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.notify=function(t){this.observers.forEach((function(e){return e(t)}))},t}(),Lt=[],kt=[];function Nt(){return Tt||(bt=XMLHttpRequest.prototype.open,xt=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.open=lt((function(t,e){return this._datadog_xhr={method:t,startTime:-1,url:G(e)},bt.apply(this,arguments)})),XMLHttpRequest.prototype.send=lt((function(t){var e=this;if(this._datadog_xhr){this._datadog_xhr.startTime=performance.now();var n=this.onreadystatechange;this.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&lt(i)(),n&&n.apply(this,arguments)};var r=!1,i=function(){r||(r=!0,e._datadog_xhr.duration=performance.now()-e._datadog_xhr.startTime,e._datadog_xhr.response=e.response,e._datadog_xhr.status=e.status,kt.forEach((function(t){return t(e._datadog_xhr)})))};this.addEventListener("loadend",lt(i)),Lt.forEach((function(t){return t(e._datadog_xhr,e)}))}return xt.apply(this,arguments)})),Tt={beforeSend:function(t){Lt.push(t)},onRequestComplete:function(t){kt.push(t)}}),Tt}function Dt(t){if(!St){var e=new Ct;!function(t,e){function n(n,r){X(r.url,t)||!function(t){return 0===t.status&&"opaque"!==t.responseType}(r)&&!function(t){return t.status>=500}(r)||e.notify({context:{error:{origin:wt.NETWORK,stack:jt(r.response,t)||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url}},message:Ut(n)+" error "+r.method+" "+r.url,startTime:r.startTime})}Nt().onRequestComplete((function(t){return n(l.XHR,t)})),Et().onRequestComplete((function(t){return n(l.FETCH,t)}))}(t,e),function(t){Ot=console.error,console.error=lt((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Ot.apply(console,c([e],n)),t.notify({context:{error:{origin:wt.CONSOLE}},message:c(["console error:",e],n).map(Mt).join(" "),startTime:performance.now()})}))}(e),function(t){At=function(e,n,r){t.notify(function(t,e){var n,r;void 0!==t.message||e instanceof Error?(n=t.message||"Empty message",r=Pt(t)):(n="Uncaught "+R(e),r="No stack, consider using an instance of Error");return{message:n,context:{error:{stack:r,kind:t.name,origin:wt.SOURCE}},startTime:performance.now()}}(e,r))},et.subscribe(At)}(e),St=function(t,e){var n=0,r=new Ct;return e.subscribe((function(e){n<t.maxErrorsByMinute?(n+=1,r.notify(e)):n===t.maxErrorsByMinute&&(n+=1,r.notify({context:{error:{origin:wt.AGENT}},message:"Reached max number of errors by minute: "+t.maxErrorsByMinute,startTime:performance.now()}))})),setInterval((function(){return n=0}),h),r}(t,e)}return St}function Mt(t){return"string"==typeof t?t:t instanceof Error?Pt(nt(t)):R(t,0,2)}function Pt(t){var e=(t.name||"Error")+": "+t.message;return t.stack.forEach((function(t){var n="?"===t.func?"<anonymous>":t.func,r=t.args&&t.args.length>0?"("+t.args.join(", ")+")":"",i=t.line?":"+t.line:"",o=t.line&&t.column?":"+t.column:"";e+="\n  at "+n+r+" @ "+t.url+i+o})),e}function jt(t,e){return t&&t.length>e.requestErrorResponseLengthLimit?t.substring(0,e.requestErrorResponseLengthLimit)+"...":t}function Ut(t){return l.XHR===t?"XHR":"Fetch"}function Bt(t){console.warn("'"+t+"' not yet available, please call '.init()' first.")}!function(t){t.AGENT="agent",t.CONSOLE="console",t.NETWORK="network",t.SOURCE="source",t.LOGGER="logger"}(wt||(wt={})),function(t){t.US="us",t.EU="eu"}(It||(It={}));var Ft,Ht=((Rt={})[It.EU]="datadoghq.eu",Rt[It.US]="datadoghq.com",Rt);function Gt(t){return!!function(t){if(void 0===document.cookie||null===document.cookie)return!1;try{return F("dd_cookie_test","test",d,{secure:t}),"test"===H("dd_cookie_test")}catch(t){return console.error(t),!1}}(t)||(console.warn("Cookies are not authorized, we will not send any data."),!1)}function qt(){return"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),!1)}!function(t){t.RELEASE="release",t.STAGING="staging",t.E2E_TEST="e2e-test"}(Ft||(Ft={}));var zt,Wt={buildMode:"release",datacenter:"us",sdkVersion:"1.21.0"};!function(t){t[t.ERROR_COLLECTED=0]="ERROR_COLLECTED",t[t.PERFORMANCE_ENTRY_COLLECTED=1]="PERFORMANCE_ENTRY_COLLECTED",t[t.CUSTOM_ACTION_COLLECTED=2]="CUSTOM_ACTION_COLLECTED",t[t.AUTO_ACTION_CREATED=3]="AUTO_ACTION_CREATED",t[t.AUTO_ACTION_COMPLETED=4]="AUTO_ACTION_COMPLETED",t[t.AUTO_ACTION_DISCARDED=5]="AUTO_ACTION_DISCARDED",t[t.VIEW_CREATED=6]="VIEW_CREATED",t[t.VIEW_UPDATED=7]="VIEW_UPDATED",t[t.REQUEST_STARTED=8]="REQUEST_STARTED",t[t.REQUEST_COMPLETED=9]="REQUEST_COMPLETED",t[t.SESSION_RENEWED=10]="SESSION_RENEWED",t[t.RESOURCE_ADDED_TO_BATCH=11]="RESOURCE_ADDED_TO_BATCH",t[t.DOM_MUTATED=12]="DOM_MUTATED",t[t.BEFORE_UNLOAD=13]="BEFORE_UNLOAD"}(zt||(zt={}));var Vt=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter((function(t){return e!==t}))}}},t}();function Yt(t){var e,n=function(){var t,e=window;if(e.Zone){var n=e.Zone.__symbol__("MutationObserver");t=e[n]}return t||(t=e.MutationObserver),t}();return n&&(e=new n(lt((function(){t.notify(zt.DOM_MUTATED)})))).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),{stop:function(){e&&e.disconnect()}}}var $t=2*h;function Kt(t){var e=function(t){var e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return Xt(e&&e.content,n&&n.content)}(t)||function(t){var e=function(t){for(var e=0;e<t.childNodes.length;e+=1){if(n=Jt(t.childNodes[e]))return n}if(t.body)for(e=t.body.childNodes.length-1;e>=0;e-=1){var n,r=t.body.childNodes[e];if(n=Jt(r))return n;if(!Qt(r))break}}(t);if(!e)return;return Xt(j(e,"trace-id"),j(e,"trace-time"))}(t);if(e&&!(e.traceTime<=Date.now()-$t))return e.traceId}function Xt(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function Jt(t){if(t&&function(t){return"#comment"===t.nodeName}(t)){var e=t.data.match(/^\s*DATADOG;(.*?)\s*$/);if(e)return e[1]}}function Qt(t){return"#text"===t.nodeName}var Zt="initial_document",te=[[p.DOCUMENT,function(t){return Zt===t}],[p.XHR,function(t){return"xmlhttprequest"===t}],[p.FETCH,function(t){return"fetch"===t}],[p.BEACON,function(t){return"beacon"===t}],[p.CSS,function(t,e){return null!==e.match(/\.css$/i)}],[p.JS,function(t,e){return null!==e.match(/\.js$/i)}],[p.IMAGE,function(t,e){return C(["image","img","icon"],t)||null!==e.match(/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i)}],[p.FONT,function(t,e){return null!==e.match(/\.(woff|eot|woff2|ttf)$/i)}],[p.MEDIA,function(t,e){return C(["audio","video"],t)||null!==e.match(/\.(mp3|mp4)$/i)}]];function ee(t){var e=t.name;if(!function(t){try{return!!V(t)}catch(t){return!1}}(e))return dt('Failed to construct URL for "'+t.name+'"'),p.OTHER;for(var n=W(e),r=0,i=te;r<i.length;r++){var o=i[r],s=o[0];if((0,o[1])(t.initiatorType,n))return s}return p.OTHER}function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function re(t){var e=t.duration,n=t.startTime,r=t.responseEnd;return S(0===e&&n<r?r-n:e)}function ie(t){var e=t.startTime,n=t.fetchStart,r=t.domainLookupStart,i=t.domainLookupEnd,o=t.connectStart,s=t.secureConnectionStart,a=t.connectEnd,u=t.requestStart,c=t.responseStart,f=t.responseEnd,p=t.redirectStart,l=t.redirectEnd;if(ne(e,n,r,i,o,a,u,c,f)){var d=n!==e;if(!d||(p<e&&(p=e),l<e&&(l=n),ne(e,p,l,n))){var h={download:oe(e,c,f),firstByte:oe(e,u,c)};return a!==n&&(h.connect=oe(e,o,a),ne(o,s,a)&&(h.ssl=oe(e,s,a))),i!==n&&(h.dns=oe(e,r,i)),d&&(h.redirect=oe(e,p,l)),h}}}function oe(t,e,n){return{duration:S(n-e),start:S(e-t)}}function se(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function ae(t,e){return e&&!X(e,t)}function ue(){return void 0!==window.performance&&"getEntries"in performance}function ce(){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("navigation")}function fe(t,e){var n;if(n=function(n){he(t,e,n)},pe("interactive",(function(){var t,e={entryType:"resource",initiatorType:Zt,traceId:Kt(document)};if(ce()&&performance.getEntriesByType("navigation").length>0){var r=performance.getEntriesByType("navigation")[0];t=o(o({},r.toJSON()),e)}else{var i=le();t=o(o(o({},i),{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0}),e)}n(t)})),ue()&&de(t,e,performance.getEntries()),window.PerformanceObserver){var r=new PerformanceObserver(lt((function(n){return de(t,e,n.getEntries())}))),i=["resource","navigation","longtask"];"visible"===document.visibilityState&&i.push("paint"),r.observe({entryTypes:i}),ue()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}ce()||function(t){function e(){t(o(o({},le()),{entryType:"navigation"}))}pe("complete",(function(){setTimeout(lt(e))}))}((function(n){he(t,e,n)}))}function pe(t,e){if(document.readyState===t||"complete"===document.readyState)e();else{var n="complete"===t?f.LOAD:f.DOM_CONTENT_LOADED,r=lt((function(){window.removeEventListener(n,r),e()}));window.addEventListener(n,r)}}function le(){var t={},e=performance.timing;for(var n in e)k(e[n])&&(t[n]=0===e[n]?0:e[n]-D());return t}function de(t,e,n){n.forEach((function(n){"resource"!==n.entryType&&"navigation"!==n.entryType&&"paint"!==n.entryType&&"longtask"!==n.entryType||he(t,e,n)}))}function he(t,e,n){(function(t){return"navigation"===t.entryType&&t.loadEventEnd<=0})(n)||function(t,e){return"resource"===e.entryType&&!ae(t,e.name)}(e,n)||t.notify(zt.PERFORMANCE_ENTRY_COLLECTED,n)}function ve(t,e,n){if(void 0!==ge()&&function(t,e){for(var n=z(e),r=0,i=t.allowedTracingOrigins;r<i.length;r++){var o=i[r];if(n===o||o instanceof RegExp&&o.test(n))return!0}return!1}(t,e)){var r=new me,i=new me;return n(function(t,e){return{"x-datadog-origin":"rum","x-datadog-parent-id":e.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":t.toDecimalString()}}(r,i)),{traceId:r,spanId:i}}}function ge(){return window.crypto||window.msCrypto}var me=function(){function t(){this.buffer=new Uint8Array(8),ge().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){for(var e=this.readInt32(0),n=this.readInt32(4),r="";;){var i=e%t*4294967296+n;if(e=Math.floor(e/t),n=Math.floor(i/t),r=(i%t).toString(t)+r,!e&&!n)break}return r},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}(),_e=1;function ye(t){var e=[new Ct,new Ct],n=function(t){return{traceFetch:function(e){return ve(t,e.url,(function(t){e.init=o({},e.init);var n=[];e.init.headers instanceof Headers?e.init.headers.forEach((function(t,e){n.push([e,t])})):Array.isArray(e.init.headers)?e.init.headers.forEach((function(t){n.push(t)})):e.init.headers&&Object.keys(e.init.headers).forEach((function(t){n.push([t,e.init.headers[t]])})),e.init.headers=n.concat(M(t))}))},traceXhr:function(e,n){return ve(t,e.url,(function(t){Object.keys(t).forEach((function(e){n.setRequestHeader(e,t[e])}))}))}}}(t);return function(t,e,n){var r=e[0],i=e[1],o=Nt();o.beforeSend((function(e,i){if(ae(t,e.url)){var o=n.traceXhr(e,i);o&&(e.traceId=o.traceId,e.spanId=o.spanId),e.requestIndex=Ee(),r.notify({requestIndex:e.requestIndex})}})),o.onRequestComplete((function(e){ae(t,e.url)&&i.notify({duration:e.duration,method:e.method,requestIndex:e.requestIndex,response:e.response,spanId:e.spanId,startTime:e.startTime,status:e.status,traceId:e.traceId,type:l.XHR,url:e.url})}))}(t,e,n),function(t,e,n){var r=e[0],i=e[1],o=Et();o.beforeSend((function(e){if(ae(t,e.url)){var i=n.traceFetch(e);i&&(e.traceId=i.traceId,e.spanId=i.spanId),e.requestIndex=Ee(),r.notify({requestIndex:e.requestIndex})}})),o.onRequestComplete((function(e){ae(t,e.url)&&i.notify({duration:e.duration,method:e.method,requestIndex:e.requestIndex,response:e.response,responseType:e.responseType,spanId:e.spanId,startTime:e.startTime,status:e.status,traceId:e.traceId,type:l.FETCH,url:e.url})}))}(t,e,n),e}function Ee(){var t=_e;return _e+=1,t}function Te(t){if(performance&&"getEntriesByName"in performance){var e,n=performance.getEntriesByName(t.url,"resource").filter((function(e){return n=e,r=t.startTime,i=be(t),n.startTime>=r&&be(n)<=i;var n,r,i}));return 1===n.length?n[0]:2===n.length&&be((e=n)[0])<=e[1].startTime?n[1]:void 0}}function be(t){return t.startTime+t.duration}var xe="_dd",we="_dd_r",Se="_dd_l",Oe="rum",Ae="logs";var Re="_dd_s",Ie=15*h,Ce=4*v,Le=h;function ke(t,e,n){var r=function(t,e){var n,r,i=!1,o=function(){i=!0,window.clearTimeout(n),n=window.setTimeout((function(){i=!1}),B)};return{get:function(){return i?r:(r=H(t),o(),r)},set:function(n,i){F(t,n,i,e),r=n,o()}}}(Re,t);!function(t){var e=t.get(),n=H(xe),r=H(we),i=H(Se);if(!e){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o[Ae]=i),r&&/^[012]$/.test(r)&&(o[Oe]=r),Pe(o,t)}}(r);var i=new Ct,o=Me(r).id,s=g((function(){var t=Me(r),s=n(t[e]),a=s.trackingType,u=s.isTracked;t[e]=a,u&&!t.id&&(t.id=x(),t.created=String(Date.now())),Pe(t,r),u&&o!==t.id&&(o=t.id,i.notify())}),B).throttled;return s(),function(t){var e=lt(t),n={capture:!0,passive:!0};[f.CLICK,f.TOUCH_START,f.KEY_DOWN,f.SCROLL].forEach((function(t){document.addEventListener(t,e,n),Ue.push((function(){return document.removeEventListener(t,e,n)}))}))}(s),function(t){var e=lt((function(){"visible"===document.visibilityState&&t()})),n=window.setInterval(e,Le);document.addEventListener(f.VISIBILITY_CHANGE,e),Ue.push((function(){clearInterval(n),document.removeEventListener(f.VISIBILITY_CHANGE,e)}))}((function(){Pe(Me(r),r)})),{getId:function(){return Me(r).id},getTrackingType:function(){return Me(r)[e]},renewObservable:i}}var Ne=/^([a-z]+)=([a-z0-9-]+)$/,De="&";function Me(t){var e=function(t){var e=t.get(),n={};(function(t){return void 0!==t&&(-1!==t.indexOf(De)||Ne.test(t))})(e)&&e.split(De).forEach((function(t){var e=Ne.exec(t);if(null!==e){var r=e[1],i=e[2];n[r]=i}}));return n}(t);return function(t){return(void 0===t.created||Date.now()-Number(t.created)<Ce)&&(void 0===t.expire||Date.now()<Number(t.expire))}(e)?e:(je(t),{})}function Pe(t,e){if(n=t,0!==Object.keys(n).length){var n;t.expire=String(Date.now()+Ie);var r=M(t).map((function(t){return t[0]+"="+t[1]})).join(De);e.set(r,Ie)}else je(e)}function je(t){t.set("",0)}var Ue=[];var Be=Ce,Fe=5*h,He=h;function Ge(t){return function(t){var e;if(function(){void 0===Ve&&(Ve="closest"in HTMLElement.prototype);return Ve}())e=t.closest("["+qe+"]");else for(var n=t;n;){if(n.hasAttribute(qe)){e=n;break}n=n.parentElement}if(!e)return;return Qe(Je(e.getAttribute(qe).trim()))}(t)||Xe(t,Ye)||Xe(t,$e)||""}var qe="data-dd-action-name";var ze,We,Ve,Ye=[function(t){if(function(){void 0===We&&(We="labels"in HTMLInputElement.prototype);return We}()){if("labels"in t&&t.labels&&t.labels.length>0)return Ze(t.labels[0])}else if(t.id){var e=t.ownerDocument&&t.ownerDocument.querySelector('label[for="'+t.id.replace('"','\\"')+'"]');return e&&Ze(e)}},function(t){if("INPUT"===t.nodeName){var e=t,n=e.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return e.value}},function(t){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return Ze(t)},function(t){return t.getAttribute("aria-label")},function(t){var e=t.getAttribute("aria-labelledby");if(e)return e.split(/\s+/).map((function(e){return function(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}(t,e)})).filter((function(t){return Boolean(t)})).map(Ze).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t){if("options"in t&&t.options.length>0)return Ze(t.options[0])}],$e=[function(t){return Ze(t)}],Ke=10;function Xe(t,e){for(var n=t,r=0;r<=Ke&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(var i=0,o=e;i<o.length;i++){var s=(0,o[i])(n);if("string"==typeof s){var a=s.trim();if(a)return Qe(Je(a))}}if("FORM"===n.nodeName)break;n=n.parentElement,r+=1}}function Je(t){return t.replace(/\s+/g," ")}function Qe(t){return t.length>100?t.slice(0,100)+" [...]":t}function Ze(t){if(!t.isContentEditable){if("innerText"in t){var e=t.innerText;if(!function(){if(void 0===ze){var t=document.createElement("style");t.textContent="*";var e=document.createElement("div");e.appendChild(t),document.body.appendChild(e),ze=""===e.innerText,document.body.removeChild(e)}return ze}())for(var n=t.querySelectorAll("script, style"),r=0;r<n.length;r+=1){var i=n[r].innerText;i.trim().length>0&&(e=e.replace(i,""))}return e}return t.textContent}}function tn(t,e){void 0===e&&(e=A);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},r=[];return r.push(t.subscribe(zt.ERROR_COLLECTED,(function(){n.errorCount+=1,e(n)}))),r.push(t.subscribe(zt.AUTO_ACTION_COMPLETED,(function(){n.userActionCount+=1,e(n)}))),r.push(t.subscribe(zt.CUSTOM_ACTION_COLLECTED,(function(){n.userActionCount+=1,e(n)}))),r.push(t.subscribe(zt.PERFORMANCE_ENTRY_COLLECTED,(function(t){"longtask"===t.entryType&&(n.longTaskCount+=1,e(n))}))),r.push(t.subscribe(zt.RESOURCE_ADDED_TO_BATCH,(function(){n.resourceCount+=1,e(n)}))),{stop:function(){r.forEach((function(t){return t.unsubscribe()}))},eventCounts:n}}var en,nn=100,rn=100,on=1e4;function sn(t,e){var n=function(t){var e,n=new Ct,r=[],i=0;function o(){n.notify({isBusy:i>0})}return r.push(t.subscribe(zt.DOM_MUTATED,(function(){return o()}))),r.push(t.subscribe(zt.PERFORMANCE_ENTRY_COLLECTED,(function(t){"resource"===t.entryType&&o()}))),r.push(t.subscribe(zt.REQUEST_STARTED,(function(t){void 0===e&&(e=t.requestIndex),i+=1,o()}))),r.push(t.subscribe(zt.REQUEST_COMPLETED,(function(t){void 0===e||t.requestIndex<e||(i-=1,o())}))),{observable:n,stop:function(){r.forEach((function(t){return t.unsubscribe()}))}}}(t),r=n.observable,i=n.stop,o=function(t,e,n){var r,i=!1,o=setTimeout(lt((function(){return u(!1,0)})),nn),s=setTimeout(lt((function(){return u(!0,performance.now())})),on);function a(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(s),e()}function u(t,e){i||(a(),n(t,e))}return t.subscribe((function(t){var e=t.isBusy;clearTimeout(o),clearTimeout(r);var n=performance.now();e||(r=setTimeout(lt((function(){return u(!0,n)})),rn))})),{stop:a}}(r,i,e).stop;return{stop:function(){o(),i()}}}function an(t){var e=function(t){var e,n;return{create:function(r,i){if(!e){var o=new cn(t,r,i);e=o,n=sn(t,(function(t,n){t?o.complete(n):o.discard(),e=void 0}))}},discardCurrent:function(){e&&(n.stop(),e.discard(),e=void 0)}}}(t);function n(t){if(t.target instanceof Element){var n=Ge(t.target);n&&e.create(en.CLICK,n)}}return t.subscribe(zt.VIEW_CREATED,(function(){e.discardCurrent()})),addEventListener(f.CLICK,n,{capture:!0}),{stop:function(){e.discardCurrent(),removeEventListener(f.CLICK,n,{capture:!0})}}}!function(t){t.CLICK="click",t.CUSTOM="custom"}(en||(en={}));var un,cn=function(){function t(t,e,n){this.lifeCycle=t,this.type=e,this.name=n,this.id=x(),this.startTime=performance.now(),this.eventCountsSubscription=tn(t),this.lifeCycle.notify(zt.AUTO_ACTION_CREATED,{id:this.id,startTime:this.startTime})}return t.prototype.complete=function(t){var e=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(zt.AUTO_ACTION_COMPLETED,{duration:t-this.startTime,id:this.id,measures:{errorCount:e.errorCount,longTaskCount:e.longTaskCount,resourceCount:e.resourceCount},name:this.name,startTime:this.startTime,type:this.type}),this.eventCountsSubscription.stop()},t.prototype.discard=function(){this.lifeCycle.notify(zt.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},t}();!function(t){t.INITIAL_LOAD="initial_load",t.ROUTE_CHANGE="route_change"}(un||(un={}));var fn,pn,ln=3e3,dn=5*h;function hn(t,e){var n,r=vn(e,t,un.INITIAL_LOAD,document.referrer,0),i=r,s=function(t,e){var n;return{stop:t.subscribe(zt.PERFORMANCE_ENTRY_COLLECTED,(function(t){"navigation"===t.entryType?(n=o(o({},n),{domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEventEnd:t.loadEventEnd}),e(n)):"paint"===t.entryType&&"first-contentful-paint"===t.name&&(n=o(o({},n),{firstContentfulPaint:t.startTime}),e(n))})).unsubscribe}}(e,(function(t){r.updateTimings(t),r.scheduleUpdate()})).stop;function a(){i.isDifferentView(t)?(i.triggerUpdate(),i.end(),i=vn(e,t,un.ROUTE_CHANGE,i.url)):(i.updateLocation(t),i.triggerUpdate())}!function(t){var e=history.pushState;history.pushState=lt((function(){e.apply(this,arguments),t()}));var n=history.replaceState;history.replaceState=lt((function(){n.apply(this,arguments),t()})),window.addEventListener(f.POP_STATE,lt(t))}(a),n=a,window.addEventListener("hashchange",lt(n)),e.subscribe(zt.SESSION_RENEWED,(function(){i.end(),i=vn(e,t,un.ROUTE_CHANGE,i.url)})),e.subscribe(zt.BEFORE_UNLOAD,(function(){i.triggerUpdate(),i.end()}));var u=window.setInterval(lt((function(){i.triggerUpdate()})),dn);return{stop:function(){s(),i.end(),clearInterval(u)}}}function vn(t,e,n,r,i){void 0===i&&(i=performance.now());var s,a,u,c=x(),f={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},p=0,l=o({},e);t.notify(zt.VIEW_CREATED,{id:c,startTime:i,location:l,referrer:r});var d=g(lt(b),ln,{leading:!1}),h=d.throttled,v=d.cancel,m=tn(t,(function(t){f=t,h()})).stop,_=function(t,e){var n=t===un.INITIAL_LOAD,r=!0,i=[];function o(){!r&&!n&&i.length>0&&e(Math.max.apply(Math,i))}return{setLoadEventEnd:function(t){n&&(n=!1,i.push(t),o())},setActivityLoadingTime:function(t){r&&(r=!1,void 0!==t&&i.push(t),o())}}}(n,(function(t){a=t,h()})),y=_.setActivityLoadingTime,E=_.setLoadEventEnd,T=function(t,e){var n=performance.now();return{stop:sn(t,(function(t,r){e(t?r-n:void 0)})).stop}}(t,y).stop;function b(){p+=1,t.notify(zt.VIEW_UPDATED,{documentVersion:p,id:c,loadingTime:a,loadingType:n,location:l,referrer:r,startTime:i,duration:(void 0===u?performance.now():u)-i,measures:o(o({},s),f)})}return(b(),{scheduleUpdate:h,end:function(){u=performance.now(),m(),T()},isDifferentView:function(t){return l.pathname!==t.pathname||(e=t.hash,n=e.substr(1),!document.getElementById(n)&&t.hash!==l.hash);var e,n},triggerUpdate:function(){v(),b()},updateTimings:function(t){s=t,void 0!==t.loadEventEnd&&E(t.loadEventEnd)},updateLocation:function(t){l=o({},t)},get url(){return l.href}})}function gn(t,e,n,r,i,s){var a={},u=function(t,e){var n,r,i,o=[],s=[];t.subscribe(zt.VIEW_CREATED,(function(t){n&&o.unshift({context:c(),endTime:t.startTime,startTime:n.startTime}),n=t,i=e.getId()})),t.subscribe(zt.VIEW_UPDATED,(function(t){n.id===t.id&&(n=t)})),t.subscribe(zt.AUTO_ACTION_CREATED,(function(t){r=t})),t.subscribe(zt.AUTO_ACTION_COMPLETED,(function(t){r&&s.unshift({context:f(),endTime:r.startTime+t.duration,startTime:r.startTime}),r=void 0})),t.subscribe(zt.AUTO_ACTION_DISCARDED,(function(){r=void 0})),t.subscribe(zt.SESSION_RENEWED,(function(){o=[],s=[],n=void 0,r=void 0}));var a=window.setInterval(lt((function(){u(o,Be),u(s,Fe)})),He);function u(t,e){for(var n=performance.now()-e;t.length>0&&t[t.length-1].startTime<n;)t.pop()}function c(){return{sessionId:i,view:{id:n.id,referrer:n.referrer,url:n.location.href}}}function f(){return{userAction:{id:r.id}}}function p(t,e,n,r){if(void 0===r)return n?t():void 0;if(n&&r>=n.startTime)return t();for(var i=0,o=e;i<o.length;i++){var s=o[i];if(r>s.endTime)break;if(r>=s.startTime)return s.context}}return{findAction:function(t){return p(f,s,r,t)},findView:function(t){return p(c,o,n,t)},stop:function(){window.clearInterval(a)}}}(n,i);s.setExternalContextProvider((function(){return E({application_id:t},u.findView(),a)}));var c=function(t,e){var n,r=o(t.rumEndpoint),i=t.replica;void 0!==i&&(n=o(i.rumEndpoint));function o(n){return new st(new it(n,t.batchBytesLimit,!0),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout,(function(){return e.notify(zt.BEFORE_UNLOAD)}))}function s(t){return E(t,{application_id:i.applicationId})}var a=!1;return{add:function(t){a||(r.add(t),n&&n.add(s(t)))},stop:function(){a=!0},upsert:function(t,e){a||(r.upsert(t,e),n&&n.upsert(s(t),e))}}}(r,n),f=function(t,e,n,r){return function(i,o){return function(s,a,u){var c=t.findView(s);if(e.isTracked()&&c&&c.sessionId){var f=t.findAction(s),p=i(a,{action:f,view:c,rum:n()}),l=E(r(),u,O(p));o(l,p)}}}}(u,i,(function(){return{applicationId:t,date:(new Date).getTime(),service:r.service,session:{type:void 0===window._DATADOG_SYNTHETICS_BROWSER?pn.USER:pn.SYNTHETICS}}}),(function(){return a}));return function(t,e,n,r,i){var s=function(t,e){var n=e.view;return T(e.rum,n,t)},a=function(t,e){var n=e.view,r=e.action;return T(e.rum,n,r,t)};(function(t,e){t.subscribe(zt.VIEW_UPDATED,(function(t){e(t.startTime,{date:N(t.startTime),duration:S(t.duration),evt:{category:fn.VIEW},rum:{documentVersion:t.documentVersion},view:{loadingTime:S(t.loadingTime),loadingType:t.loadingType,measures:o(o({},t.measures),{domComplete:S(t.measures.domComplete),domContentLoaded:S(t.measures.domContentLoaded),domInteractive:S(t.measures.domInteractive),firstContentfulPaint:S(t.measures.firstContentfulPaint),loadEventEnd:S(t.measures.loadEventEnd)})}})}))})(e,r(s,(function(t,e){return i.upsert(t,e.view.id)}))),function(t,e){t.subscribe(zt.ERROR_COLLECTED,(function(t){var n=t.message,r=t.startTime,i=t.context;e(r,o({message:n,date:N(r),evt:{category:fn.ERROR}},i))}))}(e,r(a,i.add)),function(t,e,n,r){e.subscribe(zt.REQUEST_COMPLETED,(function(t){if(n.isTrackedWithResource()){var i=Te(t),o=t.type===l.XHR?p.XHR:p.FETCH,s=i?i.startTime:t.startTime,a=t.traceId&&t.spanId;r(s,{_dd:a?{spanId:t.spanId.toDecimalString(),traceId:t.traceId.toDecimalString()}:void 0,date:N(s),duration:i?re(i):S(t.duration),evt:{category:fn.RESOURCE},http:{method:t.method,performance:i?ie(i):void 0,statusCode:t.status,url:t.url},network:{bytesWritten:i?se(i):void 0},resource:{kind:o,id:a?x():void 0}}),e.notify(zt.RESOURCE_ADDED_TO_BATCH)}}))}(0,e,n,r(a,i.add)),function(t,e,n,r){e.subscribe(zt.PERFORMANCE_ENTRY_COLLECTED,(function(t){switch(t.entryType){case"resource":!function(t,e,n,r,i){if(!n.isTrackedWithResource())return;var o=ee(i);if(C([p.XHR,p.FETCH],o))return;r(i.startTime,{_dd:i.traceId?{traceId:i.traceId}:void 0,date:N(i.startTime),duration:re(i),evt:{category:fn.RESOURCE},http:{performance:ie(i),url:i.name},network:{bytesWritten:se(i)},resource:{kind:o}}),e.notify(zt.RESOURCE_ADDED_TO_BATCH)}(0,e,n,r,t);break;case"longtask":!function(t,e){t(e.startTime,{date:N(e.startTime),duration:S(e.duration),evt:{category:fn.LONG_TASK}})}(r,t)}}))}(0,e,n,r(a,i.add)),function(t,e){t.subscribe(zt.CUSTOM_ACTION_COLLECTED,(function(t){e(performance.now(),{evt:{category:fn.USER_ACTION,name:t.name},userAction:{type:t.type}},t.context)}))}(e,r(s,i.add)),function(t,e){t.subscribe(zt.AUTO_ACTION_COMPLETED,(function(t){e(t.startTime,{date:N(t.startTime),duration:S(t.duration),evt:{category:fn.USER_ACTION,name:t.name},userAction:{id:t.id,measures:t.measures,type:t.type}})}))}(e,r(s,i.add))}(0,n,i,f,c),hn(e,n),{globalApi:{addRumGlobalContext:lt((function(t,e){a[t]=e})),addUserAction:lt((function(t,e){n.notify(zt.CUSTOM_ACTION_COLLECTED,{context:e,name:t,type:en.CUSTOM})})),getInternalContext:lt((function(e){var n=u.findView(e);if(i.isTracked()&&n&&n.sessionId)return O(E({applicationId:t},n,u.findAction(e)))})),removeRumGlobalContext:lt((function(t){delete a[t]})),setRumGlobalContext:lt((function(t){a=t}))},stop:function(){c.stop()}}}!function(t){t.USER_ACTION="user_action",t.ERROR="error",t.LONG_TASK="long_task",t.VIEW="view",t.RESOURCE="resource"}(fn||(fn={})),function(t){t.SYNTHETICS="synthetics",t.USER="user"}(pn||(pn={}));var mn,_n="rum";function yn(t,e){var n=ke(t.cookieOptions,_n,(function(e){return function(t,e){var n;n=function(t){return t===mn.NOT_TRACKED||t===mn.TRACKED_WITH_RESOURCES||t===mn.TRACKED_WITHOUT_RESOURCES}(e)?e:w(t.sampleRate)?w(t.resourceSampleRate)?mn.TRACKED_WITH_RESOURCES:mn.TRACKED_WITHOUT_RESOURCES:mn.NOT_TRACKED;return{trackingType:n,isTracked:En(n)}}(t,e)}));return n.renewObservable.subscribe((function(){e.notify(zt.SESSION_RENEWED)})),{getId:n.getId,isTracked:function(){return void 0!==n.getId()&&En(n.getTrackingType())},isTrackedWithResource:function(){return void 0!==n.getId()&&n.getTrackingType()===mn.TRACKED_WITH_RESOURCES}}}function En(t){return t===mn.TRACKED_WITH_RESOURCES||t===mn.TRACKED_WITHOUT_RESOURCES}!function(t){t.NOT_TRACKED="0",t.TRACKED_WITH_RESOURCES="1",t.TRACKED_WITHOUT_RESOURCES="2"}(mn||(mn={}));var Tn,bn,xn=(Tn=function(t){var e=s({},t);return Object.defineProperty(e,"_setDebug",{get:function(){return gt},enumerable:!1}),e}({init:function(t){Bt("core.init")},addRumGlobalContext:function(t,e){Bt("addRumGlobalContext")},removeRumGlobalContext:function(t){Bt("removeRumGlobalContext")},setRumGlobalContext:function(t){Bt("setRumGlobalContext")},addUserAction:function(t,e){Bt("addUserAction")},getInternalContext:function(t){Bt("getInternalContext")}}),bn=!1,Tn.init=lt((function(t){if(Gt(J(t))&&qt()&&function(t){return bn?(t.silentMultipleInit||console.error("DD_RUM is already initialized."),!1):t&&(t.clientToken||t.publicApiKey)?t.applicationId?void 0===t.sampleRate||L(t.sampleRate)?void 0===t.resourceSampleRate||L(t.resourceSampleRate)?!Array.isArray(t.allowedTracingOrigins)||0===t.allowedTracingOrigins.length||void 0!==t.service||(console.error("Service need to be configured when tracing is enabled"),!1):(console.error("Resource Sample Rate should be a number between 0 and 100"),!1):(console.error("Sample Rate should be a number between 0 and 100"),!1):(console.error("Application ID is not configured, no RUM data will be collected."),!1):(console.error("Client Token is not configured, we will not send any data."),!1)}(t)){t.publicApiKey&&(t.clientToken=t.publicApiKey);var e=o(o({},t),{isCollectingError:!0}),n=new Vt,r=function(t,e){var n=$(t,e),r=pt(n);return{configuration:n,errorObservable:n.isCollectingError?Dt(n):new Ct,internalMonitoring:r}}(e,Wt),i=r.errorObservable,s=r.configuration,a=r.internalMonitoring,u=yn(s,n),c=gn(e.applicationId,location,n,s,u,a).globalApi,f=ye(s),p=f[0],l=f[1];fe(n,s),Yt(n),s.trackInteractions&&an(n),i.subscribe((function(t){return n.notify(zt.ERROR_COLLECTED,t)})),p.subscribe((function(t){return n.notify(zt.REQUEST_STARTED,t)})),l.subscribe((function(t){return n.notify(zt.REQUEST_COMPLETED,t)})),b(Tn,c),bn=!0}})),Tn);(function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof t&&(t="object"==typeof self?self:"object"==typeof window?window:{}),t}()).DD_RUM=xn;var wn=window.ddConfig;wn&&(xn.init({applicationId:wn.applicationId,clientToken:wn.clientToken,env:wn.env,service:wn.serviceName,version:wn.version}),i.a.init({clientToken:wn.clientToken,env:wn.env,service:wn.serviceName,experimental:{distributedTracingOriginWhitelist:[/\.?seatgeek\.com/g,/\.?tixcast\.com/g]}}))}]),[[1432,"runtime","vendor"]]]);